<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Rook Ceph Documentation"><meta name=author content="Rook Authors"><link href=https://rook.io/v1.12/Troubleshooting/ceph-csi-common-issues/ rel=canonical><link href=../ceph-common-issues/ rel=prev><link href=../openshift-common-issues/ rel=next><link rel=icon href=https://rook.io/images/favicon_192x192.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.5"><title>CSI Common Issues - Rook Ceph Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.50c56a3b.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=rook-blue data-md-color-accent=deep-orange> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#block-rbd class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> This documentation is not for the latest stable version of Rook. <a href=../../../latest-release/ > <strong>Click here for the latest release documentation.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Rook Ceph Documentation" class="md-header__button md-logo" aria-label="Rook Ceph Documentation" data-md-component=logo> <img src=https://rook.io/images/rook-logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Rook Ceph Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> CSI Common Issues </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=rook-blue data-md-color-accent=deep-orange aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=rook-blue data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/rook/rook title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../Getting-Started/intro/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../Helm-Charts/helm-charts/ class=md-tabs__link> Helm Charts </a> </li> <li class=md-tabs__item> <a href=../../Storage-Configuration/Block-Storage-RBD/block-storage/ class=md-tabs__link> Storage Configuration </a> </li> <li class=md-tabs__item> <a href=../../CRDs/Cluster/ceph-cluster-crd/ class=md-tabs__link> Custom Resources </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../kubectl-plugin/ class=md-tabs__link> Troubleshooting </a> </li> <li class=md-tabs__item> <a href=../../Upgrade/health-verification/ class=md-tabs__link> Upgrade </a> </li> <li class=md-tabs__item> <a href=../../Contributing/development-flow/ class=md-tabs__link> Contributing </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Rook Ceph Documentation" class="md-nav__button md-logo" aria-label="Rook Ceph Documentation" data-md-component=logo> <img src=https://rook.io/images/rook-logo.svg alt=logo> </a> Rook Ceph Documentation </label> <div class=md-nav__source> <a href=https://github.com/rook/rook title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Getting-Started/intro/ class=md-nav__link> <span class=md-ellipsis> Rook </span> </a> </li> <li class=md-nav__item> <a href=../../Getting-Started/glossary/ class=md-nav__link> <span class=md-ellipsis> Glossary </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1_3> <label class=md-nav__link for=__nav_1_3 id=__nav_1_3_label tabindex=0> <span class=md-ellipsis> Prerequisites </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_3_label aria-expanded=false> <label class=md-nav__title for=__nav_1_3> <span class="md-nav__icon md-icon"></span> Prerequisites </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Getting-Started/Prerequisites/prerequisites/ class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=../../Getting-Started/Prerequisites/authenticated-registry/ class=md-nav__link> <span class=md-ellipsis> Authenticated Container Registries </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../Getting-Started/quickstart/ class=md-nav__link> <span class=md-ellipsis> Quickstart </span> </a> </li> <li class=md-nav__item> <a href=../../Getting-Started/storage-architecture/ class=md-nav__link> <span class=md-ellipsis> Storage Architecture </span> </a> </li> <li class=md-nav__item> <a href=../../Getting-Started/example-configurations/ class=md-nav__link> <span class=md-ellipsis> Example Configurations </span> </a> </li> <li class=md-nav__item> <a href=../../Getting-Started/ceph-openshift/ class=md-nav__link> <span class=md-ellipsis> OpenShift </span> </a> </li> <li class=md-nav__item> <a href=../../Getting-Started/ceph-teardown/ class=md-nav__link> <span class=md-ellipsis> Cleanup </span> </a> </li> <li class=md-nav__item> <a href=../../Getting-Started/release-cycle/ class=md-nav__link> <span class=md-ellipsis> Release Cycle </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Helm Charts </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Helm Charts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Helm-Charts/helm-charts/ class=md-nav__link> <span class=md-ellipsis> Helm Charts Overview </span> </a> </li> <li class=md-nav__item> <a href=../../Helm-Charts/operator-chart/ class=md-nav__link> <span class=md-ellipsis> Ceph Operator Helm Chart </span> </a> </li> <li class=md-nav__item> <a href=../../Helm-Charts/ceph-cluster-chart/ class=md-nav__link> <span class=md-ellipsis> Ceph Cluster Helm Chart </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Storage Configuration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Storage Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> Block Storage (RBD) </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Block Storage (RBD) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Storage-Configuration/Block-Storage-RBD/block-storage/ class=md-nav__link> <span class=md-ellipsis> Block Storage Overview </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Block-Storage-RBD/rbd-mirroring/ class=md-nav__link> <span class=md-ellipsis> RBD Mirroring </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Block-Storage-RBD/rbd-async-disaster-recovery-failover-failback/ class=md-nav__link> <span class=md-ellipsis> RBD Asynchronous DR Failover and Failback </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Shared Filesystem (CephFS) </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Shared Filesystem (CephFS) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Storage-Configuration/Shared-Filesystem-CephFS/filesystem-storage/ class=md-nav__link> <span class=md-ellipsis> Filesystem Storage Overview </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Shared-Filesystem-CephFS/filesystem-mirroring/ class=md-nav__link> <span class=md-ellipsis> Filesystem Mirroring </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> Object Storage (RGW) </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Object Storage (RGW) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Storage-Configuration/Object-Storage-RGW/object-storage/ class=md-nav__link> <span class=md-ellipsis> Object Storage Overview </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Object-Storage-RGW/ceph-object-bucket-claim/ class=md-nav__link> <span class=md-ellipsis> Bucket Claim </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Object-Storage-RGW/ceph-object-bucket-notifications/ class=md-nav__link> <span class=md-ellipsis> Object Bucket Notifications </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Object-Storage-RGW/ceph-object-multisite/ class=md-nav__link> <span class=md-ellipsis> Object Store Multisite </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Object-Storage-RGW/cosi/ class=md-nav__link> <span class=md-ellipsis> Container Object Storage Interface (COSI) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> NFS </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> NFS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Storage-Configuration/NFS/nfs/ class=md-nav__link> <span class=md-ellipsis> NFS Storage Overview </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/NFS/nfs-csi-driver/ class=md-nav__link> <span class=md-ellipsis> CSI provisioner and driver </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/NFS/nfs-security/ class=md-nav__link> <span class=md-ellipsis> Security </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/NFS/nfs-advanced/ class=md-nav__link> <span class=md-ellipsis> Advanced configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class=md-ellipsis> Monitoring </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Storage-Configuration/Monitoring/ceph-dashboard/ class=md-nav__link> <span class=md-ellipsis> Ceph Dashboard </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Monitoring/ceph-monitoring/ class=md-nav__link> <span class=md-ellipsis> Prometheus Monitoring </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> <span class=md-ellipsis> Ceph CSI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Ceph CSI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Storage-Configuration/Ceph-CSI/ceph-csi-drivers/ class=md-nav__link> <span class=md-ellipsis> Ceph CSI Drivers </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Ceph-CSI/ceph-csi-snapshot/ class=md-nav__link> <span class=md-ellipsis> Snapshots </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Ceph-CSI/ceph-csi-volume-clone/ class=md-nav__link> <span class=md-ellipsis> Volume clone </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Ceph-CSI/custom-images/ class=md-nav__link> <span class=md-ellipsis> Custom Images </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/ceph-teardown/ class=md-nav__link> <span class=md-ellipsis> Cleanup </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_8> <label class=md-nav__link for=__nav_3_8 id=__nav_3_8_label tabindex=0> <span class=md-ellipsis> Advanced </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Storage-Configuration/Advanced/ceph-configuration/ class=md-nav__link> <span class=md-ellipsis> Ceph Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Advanced/configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Advanced/key-management-system/ class=md-nav__link> <span class=md-ellipsis> Key Management System </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Advanced/ceph-osd-mgmt/ class=md-nav__link> <span class=md-ellipsis> Ceph OSD Management </span> </a> </li> <li class=md-nav__item> <a href=../../Storage-Configuration/Advanced/ceph-mon-health/ class=md-nav__link> <span class=md-ellipsis> Monitor Health </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Custom Resources </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Custom Resources </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> <span class=md-ellipsis> Cluster Configuration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Cluster Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../CRDs/Cluster/ceph-cluster-crd/ class=md-nav__link> <span class=md-ellipsis> CephCluster CRD </span> </a> </li> <li class=md-nav__item> <a href=../../CRDs/Cluster/host-cluster/ class=md-nav__link> <span class=md-ellipsis> Host Storage Cluster </span> </a> </li> <li class=md-nav__item> <a href=../../CRDs/Cluster/pvc-cluster/ class=md-nav__link> <span class=md-ellipsis> PVC Storage Cluster </span> </a> </li> <li class=md-nav__item> <a href=../../CRDs/Cluster/stretch-cluster/ class=md-nav__link> <span class=md-ellipsis> Stretch Storage Cluster </span> </a> </li> <li class=md-nav__item> <a href=../../CRDs/Cluster/external-cluster/ class=md-nav__link> <span class=md-ellipsis> External Storage Cluster </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Block Storage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Block Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../CRDs/Block-Storage/ceph-block-pool-crd/ class=md-nav__link> <span class=md-ellipsis> CephBlockPool CRD </span> </a> </li> <li class=md-nav__item> <a href=../../CRDs/Block-Storage/ceph-block-pool-rados-namespace-crd/ class=md-nav__link> <span class=md-ellipsis> CephBlockPoolRados Namespace CRD </span> </a> </li> <li class=md-nav__item> <a href=../../CRDs/Block-Storage/ceph-rbd-mirror-crd/ class=md-nav__link> <span class=md-ellipsis> CephRBDMirror CRD </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Shared Filesystem </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Shared Filesystem </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../CRDs/Shared-Filesystem/ceph-filesystem-crd/ class=md-nav__link> <span class=md-ellipsis> CephFilesystem CRD </span> </a> </li> <li class=md-nav__item> <a href=../../CRDs/Shared-Filesystem/ceph-fs-mirror-crd/ class=md-nav__link> <span class=md-ellipsis> CephFilesystemMirror CRD </span> </a> </li> <li class=md-nav__item> <a href=../../CRDs/Shared-Filesystem/ceph-fs-subvolumegroup-crd/ class=md-nav__link> <span class=md-ellipsis> FilesystemSubVolumeGroup CRD </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> Object Storage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Object Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../CRDs/Object-Storage/ceph-object-store-crd/ class=md-nav__link> <span class=md-ellipsis> CephObjectStore CRD </span> </a> </li> <li class=md-nav__item> <a href=../../CRDs/Object-Storage/ceph-object-store-user-crd/ class=md-nav__link> <span class=md-ellipsis> CephObjectStoreUser CRD </span> </a> </li> <li class=md-nav__item> <a href=../../CRDs/Object-Storage/ceph-object-realm-crd/ class=md-nav__link> <span class=md-ellipsis> CephObjectRealm CRD </span> </a> </li> <li class=md-nav__item> <a href=../../CRDs/Object-Storage/ceph-object-zonegroup-crd/ class=md-nav__link> <span class=md-ellipsis> CephObjectZoneGroup CRD </span> </a> </li> <li class=md-nav__item> <a href=../../CRDs/Object-Storage/ceph-object-zone-crd/ class=md-nav__link> <span class=md-ellipsis> CephObjectZone CRD </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../CRDs/ceph-client-crd/ class=md-nav__link> <span class=md-ellipsis> CephClient CRD </span> </a> </li> <li class=md-nav__item> <a href=../../CRDs/ceph-nfs-crd/ class=md-nav__link> <span class=md-ellipsis> CephNFS CRD </span> </a> </li> <li class=md-nav__item> <a href=../../CRDs/specification/ class=md-nav__link> <span class=md-ellipsis> Specification </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Troubleshooting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../kubectl-plugin/ class=md-nav__link> <span class=md-ellipsis> kubectl Plugin </span> </a> </li> <li class=md-nav__item> <a href=../ceph-toolbox/ class=md-nav__link> <span class=md-ellipsis> Toolbox </span> </a> </li> <li class=md-nav__item> <a href=../common-issues/ class=md-nav__link> <span class=md-ellipsis> Common Issues </span> </a> </li> <li class=md-nav__item> <a href=../ceph-common-issues/ class=md-nav__link> <span class=md-ellipsis> Ceph Common Issues </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> CSI Common Issues </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> CSI Common Issues </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#block-rbd class=md-nav__link> <span class=md-ellipsis> Block (RBD) </span> </a> </li> <li class=md-nav__item> <a href=#shared-filesystem-cephfs class=md-nav__link> <span class=md-ellipsis> Shared Filesystem (CephFS) </span> </a> </li> <li class=md-nav__item> <a href=#network-connectivity class=md-nav__link> <span class=md-ellipsis> Network Connectivity </span> </a> </li> <li class=md-nav__item> <a href=#ceph-health class=md-nav__link> <span class=md-ellipsis> Ceph Health </span> </a> </li> <li class=md-nav__item> <a href=#slow-operations class=md-nav__link> <span class=md-ellipsis> Slow Operations </span> </a> </li> <li class=md-nav__item> <a href=#ceph-troubleshooting class=md-nav__link> <span class=md-ellipsis> Ceph Troubleshooting </span> </a> <nav class=md-nav aria-label="Ceph Troubleshooting"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#check-if-the-rbd-pool-exists class=md-nav__link> <span class=md-ellipsis> Check if the RBD Pool exists </span> </a> </li> <li class=md-nav__item> <a href=#check-if-the-filesystem-exists class=md-nav__link> <span class=md-ellipsis> Check if the Filesystem exists </span> </a> </li> <li class=md-nav__item> <a href=#subvolumegroups class=md-nav__link> <span class=md-ellipsis> subvolumegroups </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#provisioning-volumes class=md-nav__link> <span class=md-ellipsis> Provisioning Volumes </span> </a> <nav class=md-nav aria-label="Provisioning Volumes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#csi-provisioner class=md-nav__link> <span class=md-ellipsis> csi-provisioner </span> </a> </li> <li class=md-nav__item> <a href=#csi-resizer class=md-nav__link> <span class=md-ellipsis> csi-resizer </span> </a> </li> <li class=md-nav__item> <a href=#csi-snapshotter class=md-nav__link> <span class=md-ellipsis> csi-snapshotter </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mounting-the-volume-to-application-pods class=md-nav__link> <span class=md-ellipsis> Mounting the volume to application pods </span> </a> <nav class=md-nav aria-label="Mounting the volume to application pods"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#csi-driver-registration class=md-nav__link> <span class=md-ellipsis> csi-driver registration </span> </a> </li> <li class=md-nav__item> <a href=#driver-registrar class=md-nav__link> <span class=md-ellipsis> driver-registrar </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#volume-attachment class=md-nav__link> <span class=md-ellipsis> Volume Attachment </span> </a> <nav class=md-nav aria-label="Volume Attachment"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#csi-attacher class=md-nav__link> <span class=md-ellipsis> csi-attacher </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cephfs-stale-operations class=md-nav__link> <span class=md-ellipsis> CephFS Stale operations </span> </a> </li> <li class=md-nav__item> <a href=#rbd-stale-operations class=md-nav__link> <span class=md-ellipsis> RBD Stale operations </span> </a> </li> <li class=md-nav__item> <a href=#dmesg-logs class=md-nav__link> <span class=md-ellipsis> dmesg logs </span> </a> </li> <li class=md-nav__item> <a href=#rbd-commands class=md-nav__link> <span class=md-ellipsis> RBD Commands </span> </a> </li> <li class=md-nav__item> <a href=#node-loss class=md-nav__link> <span class=md-ellipsis> Node Loss </span> </a> <nav class=md-nav aria-label="Node Loss"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#force-deleting-the-pod class=md-nav__link> <span class=md-ellipsis> Force deleting the pod </span> </a> </li> <li class=md-nav__item> <a href=#blocklisting-a-node class=md-nav__link> <span class=md-ellipsis> Blocklisting a node </span> </a> </li> <li class=md-nav__item> <a href=#removing-a-node-blocklist class=md-nav__link> <span class=md-ellipsis> Removing a node blocklist </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../openshift-common-issues/ class=md-nav__link> <span class=md-ellipsis> OpenShift Common Issues </span> </a> </li> <li class=md-nav__item> <a href=../disaster-recovery/ class=md-nav__link> <span class=md-ellipsis> Disaster Recovery </span> </a> </li> <li class=md-nav__item> <a href=../direct-tools/ class=md-nav__link> <span class=md-ellipsis> Direct Tools </span> </a> </li> <li class=md-nav__item> <a href=../performance-profiling/ class=md-nav__link> <span class=md-ellipsis> Performance Profiling </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex> <span class=md-ellipsis> Upgrade </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Upgrade </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Upgrade/health-verification/ class=md-nav__link> <span class=md-ellipsis> Health Verification </span> </a> </li> <li class=md-nav__item> <a href=../../Upgrade/rook-upgrade/ class=md-nav__link> <span class=md-ellipsis> Rook Upgrades </span> </a> </li> <li class=md-nav__item> <a href=../../Upgrade/ceph-upgrade/ class=md-nav__link> <span class=md-ellipsis> Ceph Upgrades </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex> <span class=md-ellipsis> Contributing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Contributing/development-flow/ class=md-nav__link> <span class=md-ellipsis> Development Flow </span> </a> </li> <li class=md-nav__item> <a href=../../Contributing/development-environment/ class=md-nav__link> <span class=md-ellipsis> Developer Environment </span> </a> </li> <li class=md-nav__item> <a href=../../Contributing/documentation/ class=md-nav__link> <span class=md-ellipsis> Documentation </span> </a> </li> <li class=md-nav__item> <a href=../../Contributing/ci-configuration/ class=md-nav__link> <span class=md-ellipsis> CI Configuration </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#block-rbd class=md-nav__link> <span class=md-ellipsis> Block (RBD) </span> </a> </li> <li class=md-nav__item> <a href=#shared-filesystem-cephfs class=md-nav__link> <span class=md-ellipsis> Shared Filesystem (CephFS) </span> </a> </li> <li class=md-nav__item> <a href=#network-connectivity class=md-nav__link> <span class=md-ellipsis> Network Connectivity </span> </a> </li> <li class=md-nav__item> <a href=#ceph-health class=md-nav__link> <span class=md-ellipsis> Ceph Health </span> </a> </li> <li class=md-nav__item> <a href=#slow-operations class=md-nav__link> <span class=md-ellipsis> Slow Operations </span> </a> </li> <li class=md-nav__item> <a href=#ceph-troubleshooting class=md-nav__link> <span class=md-ellipsis> Ceph Troubleshooting </span> </a> <nav class=md-nav aria-label="Ceph Troubleshooting"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#check-if-the-rbd-pool-exists class=md-nav__link> <span class=md-ellipsis> Check if the RBD Pool exists </span> </a> </li> <li class=md-nav__item> <a href=#check-if-the-filesystem-exists class=md-nav__link> <span class=md-ellipsis> Check if the Filesystem exists </span> </a> </li> <li class=md-nav__item> <a href=#subvolumegroups class=md-nav__link> <span class=md-ellipsis> subvolumegroups </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#provisioning-volumes class=md-nav__link> <span class=md-ellipsis> Provisioning Volumes </span> </a> <nav class=md-nav aria-label="Provisioning Volumes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#csi-provisioner class=md-nav__link> <span class=md-ellipsis> csi-provisioner </span> </a> </li> <li class=md-nav__item> <a href=#csi-resizer class=md-nav__link> <span class=md-ellipsis> csi-resizer </span> </a> </li> <li class=md-nav__item> <a href=#csi-snapshotter class=md-nav__link> <span class=md-ellipsis> csi-snapshotter </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mounting-the-volume-to-application-pods class=md-nav__link> <span class=md-ellipsis> Mounting the volume to application pods </span> </a> <nav class=md-nav aria-label="Mounting the volume to application pods"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#csi-driver-registration class=md-nav__link> <span class=md-ellipsis> csi-driver registration </span> </a> </li> <li class=md-nav__item> <a href=#driver-registrar class=md-nav__link> <span class=md-ellipsis> driver-registrar </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#volume-attachment class=md-nav__link> <span class=md-ellipsis> Volume Attachment </span> </a> <nav class=md-nav aria-label="Volume Attachment"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#csi-attacher class=md-nav__link> <span class=md-ellipsis> csi-attacher </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cephfs-stale-operations class=md-nav__link> <span class=md-ellipsis> CephFS Stale operations </span> </a> </li> <li class=md-nav__item> <a href=#rbd-stale-operations class=md-nav__link> <span class=md-ellipsis> RBD Stale operations </span> </a> </li> <li class=md-nav__item> <a href=#dmesg-logs class=md-nav__link> <span class=md-ellipsis> dmesg logs </span> </a> </li> <li class=md-nav__item> <a href=#rbd-commands class=md-nav__link> <span class=md-ellipsis> RBD Commands </span> </a> </li> <li class=md-nav__item> <a href=#node-loss class=md-nav__link> <span class=md-ellipsis> Node Loss </span> </a> <nav class=md-nav aria-label="Node Loss"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#force-deleting-the-pod class=md-nav__link> <span class=md-ellipsis> Force deleting the pod </span> </a> </li> <li class=md-nav__item> <a href=#blocklisting-a-node class=md-nav__link> <span class=md-ellipsis> Blocklisting a node </span> </a> </li> <li class=md-nav__item> <a href=#removing-a-node-blocklist class=md-nav__link> <span class=md-ellipsis> Removing a node blocklist </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>CSI Common Issues</h1> <p>Issues when provisioning volumes with the Ceph CSI driver can happen for many reasons such as:</p> <ul> <li>Network connectivity between CSI pods and ceph</li> <li>Cluster health issues</li> <li>Slow operations</li> <li>Kubernetes issues</li> <li>Ceph-CSI configuration or bugs</li> </ul> <p>The following troubleshooting steps can help identify a number of issues.</p> <h3 id=block-rbd>Block (RBD)<a class=headerlink href=#block-rbd title="Permanent link">&para;</a></h3> <p>If you are mounting block volumes (usually RWO), these are referred to as <code>RBD</code> volumes in Ceph. See the sections below for RBD if you are having block volume issues.</p> <h3 id=shared-filesystem-cephfs>Shared Filesystem (CephFS)<a class=headerlink href=#shared-filesystem-cephfs title="Permanent link">&para;</a></h3> <p>If you are mounting shared filesystem volumes (usually RWX), these are referred to as <code>CephFS</code> volumes in Ceph. See the sections below for CephFS if you are having filesystem volume issues.</p> <h2 id=network-connectivity>Network Connectivity<a class=headerlink href=#network-connectivity title="Permanent link">&para;</a></h2> <p>The Ceph monitors are the most critical component of the cluster to check first. Retrieve the mon endpoints from the services:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span>
<span class=normal><a href=#__codelineno-0-4>4</a></span>
<span class=normal><a href=#__codelineno-0-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>$ </span>kubectl<span class=w> </span>-n<span class=w> </span>rook-ceph<span class=w> </span>get<span class=w> </span>svc<span class=w> </span>-l<span class=w> </span><span class=nv>app</span><span class=o>=</span>rook-ceph-mon
<a id=__codelineno-0-2 name=__codelineno-0-2></a><span class=go>NAME              TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)             AGE</span>
<a id=__codelineno-0-3 name=__codelineno-0-3></a><span class=go>rook-ceph-mon-a   ClusterIP   10.104.165.31   &lt;none&gt;        6789/TCP,3300/TCP   18h</span>
<a id=__codelineno-0-4 name=__codelineno-0-4></a><span class=go>rook-ceph-mon-b   ClusterIP   10.97.244.93    &lt;none&gt;        6789/TCP,3300/TCP   21s</span>
<a id=__codelineno-0-5 name=__codelineno-0-5></a><span class=go>rook-ceph-mon-c   ClusterIP   10.99.248.163   &lt;none&gt;        6789/TCP,3300/TCP   8s</span>
</code></pre></div></td></tr></table></div> <p>If host networking is enabled in the CephCluster CR, you will instead need to find the node IPs for the hosts where the mons are running.</p> <p>The <code>clusterIP</code> is the mon IP and <code>3300</code> is the port that will be used by Ceph-CSI to connect to the ceph cluster. These endpoints must be accessible by all clients in the cluster, including the CSI driver.</p> <p>If you are seeing issues provisioning the PVC then you need to check the network connectivity from the provisioner pods.</p> <ul> <li>For CephFS PVCs, check network connectivity from the <code>csi-cephfsplugin</code> container of the <code>csi-cephfsplugin-provisioner</code> pods</li> <li>For Block PVCs, check network connectivity from the <code>csi-rbdplugin</code> container of the <code>csi-rbdplugin-provisioner</code> pods</li> </ul> <p>For redundancy, there are two provisioner pods for each type. Make sure to test connectivity from all provisioner pods.</p> <p>Connect to the provisioner pods and verify the connection to the mon endpoints such as the following:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-1-1>1</a></span>
<span class=normal><a href=#__codelineno-1-2>2</a></span>
<span class=normal><a href=#__codelineno-1-3>3</a></span>
<span class=normal><a href=#__codelineno-1-4>4</a></span>
<span class=normal><a href=#__codelineno-1-5>5</a></span>
<span class=normal><a href=#__codelineno-1-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1></a><span class=gp># </span>Connect<span class=w> </span>to<span class=w> </span>the<span class=w> </span>csi-cephfsplugin<span class=w> </span>container<span class=w> </span><span class=k>in</span><span class=w> </span>the<span class=w> </span>provisioner<span class=w> </span>pod
<a id=__codelineno-1-2 name=__codelineno-1-2></a><span class=go>kubectl -n rook-ceph exec -ti deploy/csi-cephfsplugin-provisioner -c csi-cephfsplugin -- bash</span>
<a id=__codelineno-1-3 name=__codelineno-1-3></a>
<a id=__codelineno-1-4 name=__codelineno-1-4></a><span class=gp># </span>Test<span class=w> </span>the<span class=w> </span>network<span class=w> </span>connection<span class=w> </span>to<span class=w> </span>the<span class=w> </span>mon<span class=w> </span>endpoint
<a id=__codelineno-1-5 name=__codelineno-1-5></a><span class=go>curl 10.104.165.31:3300 2&gt;/dev/null</span>
<a id=__codelineno-1-6 name=__codelineno-1-6></a><span class=go>ceph v2</span>
</code></pre></div></td></tr></table></div> <p>If you see the response "ceph v2", the connection succeeded. If there is no response then there is a network issue connecting to the ceph cluster.</p> <p>Check network connectivity for all monitor IP’s and ports which are passed to ceph-csi.</p> <h2 id=ceph-health>Ceph Health<a class=headerlink href=#ceph-health title="Permanent link">&para;</a></h2> <p>Sometimes an unhealthy Ceph cluster can contribute to the issues in creating or mounting the PVC. Check that your Ceph cluster is healthy by connecting to the <a href=../ceph-toolbox/ >Toolbox</a> and running the <code>ceph</code> commands:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-2-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1></a><span class=go>ceph health detail</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-3-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1></a><span class=go>HEALTH_OK</span>
</code></pre></div></td></tr></table></div> <h2 id=slow-operations>Slow Operations<a class=headerlink href=#slow-operations title="Permanent link">&para;</a></h2> <p>Even slow ops in the ceph cluster can contribute to the issues. In the toolbox, make sure that no slow ops are present and the ceph cluster is healthy</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-4-1>1</a></span>
<span class=normal><a href=#__codelineno-4-2>2</a></span>
<span class=normal><a href=#__codelineno-4-3>3</a></span>
<span class=normal><a href=#__codelineno-4-4>4</a></span>
<span class=normal><a href=#__codelineno-4-5>5</a></span>
<span class=normal><a href=#__codelineno-4-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1></a><span class=gp>$ </span>ceph<span class=w> </span>-s
<a id=__codelineno-4-2 name=__codelineno-4-2></a><span class=go>cluster:</span>
<a id=__codelineno-4-3 name=__codelineno-4-3></a><span class=go>  id:     ba41ac93-3b55-4f32-9e06-d3d8c6ff7334</span>
<a id=__codelineno-4-4 name=__codelineno-4-4></a><span class=go>  health: HEALTH_WARN</span>
<a id=__codelineno-4-5 name=__codelineno-4-5></a><span class=go>          30 slow ops, oldest one blocked for 10624 sec, mon.a has slow ops</span>
<a id=__codelineno-4-6 name=__codelineno-4-6></a><span class=go>[...]</span>
</code></pre></div></td></tr></table></div> <p>If Ceph is not healthy, check the following health for more clues:</p> <ul> <li>The Ceph monitor logs for errors</li> <li>The OSD logs for errors</li> <li>Disk Health</li> <li>Network Health</li> </ul> <h2 id=ceph-troubleshooting>Ceph Troubleshooting<a class=headerlink href=#ceph-troubleshooting title="Permanent link">&para;</a></h2> <h3 id=check-if-the-rbd-pool-exists>Check if the RBD Pool exists<a class=headerlink href=#check-if-the-rbd-pool-exists title="Permanent link">&para;</a></h3> <p>Make sure the pool you have specified in the <code>storageclass.yaml</code> exists in the ceph cluster.</p> <p>Suppose the pool name mentioned in the <code>storageclass.yaml</code> is <code>replicapool</code>. It can be verified to exist in the toolbox:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-5-1>1</a></span>
<span class=normal><a href=#__codelineno-5-2>2</a></span>
<span class=normal><a href=#__codelineno-5-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1></a><span class=gp>$ </span>ceph<span class=w> </span>osd<span class=w> </span>lspools
<a id=__codelineno-5-2 name=__codelineno-5-2></a><span class=go>1 device_health_metrics</span>
<a id=__codelineno-5-3 name=__codelineno-5-3></a><span class=go>2 replicapool</span>
</code></pre></div></td></tr></table></div> <p>If the pool is not in the list, create the <code>CephBlockPool</code> CR for the pool if you have not already. If you have already created the pool, check the Rook operator log for errors creating the pool.</p> <h3 id=check-if-the-filesystem-exists>Check if the Filesystem exists<a class=headerlink href=#check-if-the-filesystem-exists title="Permanent link">&para;</a></h3> <p>For the shared filesystem (CephFS), check that the filesystem and pools you have specified in the <code>storageclass.yaml</code> exist in the Ceph cluster.</p> <p>Suppose the <code>fsName</code> name mentioned in the <code>storageclass.yaml</code> is <code>myfs</code>. It can be verified in the toolbox:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-6-1>1</a></span>
<span class=normal><a href=#__codelineno-6-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1></a><span class=gp>$ </span>ceph<span class=w> </span>fs<span class=w> </span>ls
<a id=__codelineno-6-2 name=__codelineno-6-2></a><span class=go>name: myfs, metadata pool: myfs-metadata, data pools: [myfs-data0 ]</span>
</code></pre></div></td></tr></table></div> <p>Now verify the <code>pool</code> mentioned in the <code>storageclass.yaml</code> exists, such as the example <code>myfs-data0</code>.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-7-1>1</a></span>
<span class=normal><a href=#__codelineno-7-2>2</a></span>
<span class=normal><a href=#__codelineno-7-3>3</a></span>
<span class=normal><a href=#__codelineno-7-4>4</a></span>
<span class=normal><a href=#__codelineno-7-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1></a><span class=go>ceph osd lspools</span>
<a id=__codelineno-7-2 name=__codelineno-7-2></a><span class=go>1 device_health_metrics</span>
<a id=__codelineno-7-3 name=__codelineno-7-3></a><span class=go>2 replicapool</span>
<a id=__codelineno-7-4 name=__codelineno-7-4></a><span class=go>3 myfs-metadata0</span>
<a id=__codelineno-7-5 name=__codelineno-7-5></a><span class=go>4 myfs-data0</span>
</code></pre></div></td></tr></table></div> <p>The pool for the filesystem will have the suffix <code>-data0</code> compared the filesystem name that is created by the CephFilesystem CR.</p> <h3 id=subvolumegroups>subvolumegroups<a class=headerlink href=#subvolumegroups title="Permanent link">&para;</a></h3> <p>If the subvolumegroup is not specified in the ceph-csi configmap (where you have passed the ceph monitor information), Ceph-CSI creates the default subvolumegroup with the name csi. Verify that the subvolumegroup exists:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-8-1>1</a></span>
<span class=normal><a href=#__codelineno-8-2>2</a></span>
<span class=normal><a href=#__codelineno-8-3>3</a></span>
<span class=normal><a href=#__codelineno-8-4>4</a></span>
<span class=normal><a href=#__codelineno-8-5>5</a></span>
<span class=normal><a href=#__codelineno-8-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1></a><span class=gp>$ </span>ceph<span class=w> </span>fs<span class=w> </span>subvolumegroup<span class=w> </span>ls<span class=w> </span>myfs
<a id=__codelineno-8-2 name=__codelineno-8-2></a><span class=go>[</span>
<a id=__codelineno-8-3 name=__codelineno-8-3></a><span class=go>    {</span>
<a id=__codelineno-8-4 name=__codelineno-8-4></a><span class=go>        &quot;name&quot;: &quot;csi&quot;</span>
<a id=__codelineno-8-5 name=__codelineno-8-5></a><span class=go>    }</span>
<a id=__codelineno-8-6 name=__codelineno-8-6></a><span class=go>]</span>
</code></pre></div></td></tr></table></div> <p>If you don’t see any issues with your Ceph cluster, the following sections will start debugging the issue from the CSI side.</p> <h2 id=provisioning-volumes>Provisioning Volumes<a class=headerlink href=#provisioning-volumes title="Permanent link">&para;</a></h2> <p>At times the issue can also exist in the Ceph-CSI or the sidecar containers used in Ceph-CSI.</p> <p>Ceph-CSI has included number of sidecar containers in the provisioner pods such as: <code>csi-attacher</code>, <code>csi-resizer</code>, <code>csi-provisioner</code>, <code>csi-cephfsplugin</code>, <code>csi-snapshotter</code>, and <code>liveness-prometheus</code>.</p> <p>The CephFS provisioner core CSI driver container name is <code>csi-cephfsplugin</code> as one of the container names. For the RBD (Block) provisioner you will see <code>csi-rbdplugin</code> as the container name.</p> <p>Here is a summary of the sidecar containers:</p> <h3 id=csi-provisioner>csi-provisioner<a class=headerlink href=#csi-provisioner title="Permanent link">&para;</a></h3> <p>The external-provisioner is a sidecar container that dynamically provisions volumes by calling <code>ControllerCreateVolume()</code> and <code>ControllerDeleteVolume()</code> functions of CSI drivers. More details about external-provisioner can be found here.</p> <p>If there is an issue with PVC Create or Delete, check the logs of the <code>csi-provisioner</code> sidecar container.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-9-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1></a><span class=go>kubectl -n rook-ceph logs deploy/csi-rbdplugin-provisioner -c csi-provisioner</span>
</code></pre></div></td></tr></table></div> <h3 id=csi-resizer>csi-resizer<a class=headerlink href=#csi-resizer title="Permanent link">&para;</a></h3> <p>The CSI <code>external-resizer</code> is a sidecar container that watches the Kubernetes API server for PersistentVolumeClaim updates and triggers <code>ControllerExpandVolume</code> operations against a CSI endpoint if the user requested more storage on the PersistentVolumeClaim object. More details about external-provisioner can be found here.</p> <p>If any issue exists in PVC expansion you can check the logs of the <code>csi-resizer</code> sidecar container.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-10-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1></a><span class=go>kubectl -n rook-ceph logs deploy/csi-rbdplugin-provisioner -c csi-resizer</span>
</code></pre></div></td></tr></table></div> <h3 id=csi-snapshotter>csi-snapshotter<a class=headerlink href=#csi-snapshotter title="Permanent link">&para;</a></h3> <p>The CSI external-snapshotter sidecar only watches for <code>VolumeSnapshotContent</code> create/update/delete events. It will talk to ceph-csi containers to create or delete snapshots. More details about external-snapshotter can be found <a href=https://github.com/kubernetes-csi/external-snapshotter>here</a>.</p> <p><strong>In Kubernetes 1.17 the volume snapshot feature was promoted to beta. In Kubernetes 1.20, the feature gate is enabled by default on standard Kubernetes deployments and cannot be turned off.</strong></p> <p>Make sure you have installed the correct snapshotter CRD version. If you have not installed the snapshotter controller, see the <a href=../../Storage-Configuration/Ceph-CSI/ceph-csi-snapshot/ >Snapshots guide</a>.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-11-1>1</a></span>
<span class=normal><a href=#__codelineno-11-2>2</a></span>
<span class=normal><a href=#__codelineno-11-3>3</a></span>
<span class=normal><a href=#__codelineno-11-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1></a><span class=gp>$ </span>kubectl<span class=w> </span>get<span class=w> </span>crd<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>snapshot
<a id=__codelineno-11-2 name=__codelineno-11-2></a><span class=go>volumesnapshotclasses.snapshot.storage.k8s.io    2021-01-25T11:19:38Z</span>
<a id=__codelineno-11-3 name=__codelineno-11-3></a><span class=go>volumesnapshotcontents.snapshot.storage.k8s.io   2021-01-25T11:19:39Z</span>
<a id=__codelineno-11-4 name=__codelineno-11-4></a><span class=go>volumesnapshots.snapshot.storage.k8s.io          2021-01-25T11:19:40Z</span>
</code></pre></div></td></tr></table></div> <p>The above CRDs must have the matching version in your <code>snapshotclass.yaml</code> or <code>snapshot.yaml</code>. Otherwise, the <code>VolumeSnapshot</code> and <code>VolumesnapshotContent</code> will not be created.</p> <p>The snapshot controller is responsible for creating both <code>VolumeSnapshot</code> and <code>VolumesnapshotContent</code> object. If the objects are not getting created, you may need to check the logs of the snapshot-controller container.</p> <p>Rook only installs the snapshotter sidecar container, not the controller. It is recommended that Kubernetes distributors bundle and deploy the controller and CRDs as part of their Kubernetes cluster management process (independent of any CSI Driver).</p> <p>If your Kubernetes distribution does not bundle the snapshot controller, you may manually install these components.</p> <p>If any issue exists in the snapshot Create/Delete operation you can check the logs of the csi-snapshotter sidecar container.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-12-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1></a><span class=go>kubectl -n rook-ceph logs deploy/csi-rbdplugin-provisioner -c csi-snapshotter</span>
</code></pre></div></td></tr></table></div> <p>If you see an error about a volume already existing such as:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-13-1>1</a></span>
<span class=normal><a href=#__codelineno-13-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1></a><span class=go>GRPC error: rpc error: code = Aborted desc = an operation with the given Volume ID</span>
<a id=__codelineno-13-2 name=__codelineno-13-2></a><span class=go>0001-0009-rook-ceph-0000000000000001-8d0ba728-0e17-11eb-a680-ce6eecc894de already exists.</span>
</code></pre></div></td></tr></table></div> <p>The issue typically is in the Ceph cluster or network connectivity. If the issue is in Provisioning the PVC Restarting the Provisioner pods help(for CephFS issue restart <code>csi-cephfsplugin-provisioner-xxxxxx</code> CephFS Provisioner. For RBD, restart the <code>csi-rbdplugin-provisioner-xxxxxx</code> pod. If the issue is in mounting the PVC, restart the <code>csi-rbdplugin-xxxxx</code> pod (for RBD) and the <code>csi-cephfsplugin-xxxxx</code> pod for CephFS issue.</p> <h2 id=mounting-the-volume-to-application-pods>Mounting the volume to application pods<a class=headerlink href=#mounting-the-volume-to-application-pods title="Permanent link">&para;</a></h2> <p>When a user requests to create the application pod with PVC, there is a three-step process</p> <ul> <li>CSI driver registration</li> <li>Create volume attachment object</li> <li>Stage and publish the volume</li> </ul> <h3 id=csi-driver-registration>csi-driver registration<a class=headerlink href=#csi-driver-registration title="Permanent link">&para;</a></h3> <p><code>csi-cephfsplugin-xxxx</code> or <code>csi-rbdplugin-xxxx</code> is a daemonset pod running on all the nodes where your application gets scheduled. If the plugin pods are not running on the node where your application is scheduled might cause the issue, make sure plugin pods are always running.</p> <p>Each plugin pod has two important containers: one is <code>driver-registrar</code> and <code>csi-rbdplugin</code> or <code>csi-cephfsplugin</code>. Sometimes there is also a <code>liveness-prometheus</code> container.</p> <h3 id=driver-registrar>driver-registrar<a class=headerlink href=#driver-registrar title="Permanent link">&para;</a></h3> <p>The node-driver-registrar is a sidecar container that registers the CSI driver with Kubelet. More details can be found <a href=https://github.com/kubernetes-csi/node-driver-registrar>here</a>.</p> <p>If any issue exists in attaching the PVC to the application pod check logs from driver-registrar sidecar container in plugin pod where your application pod is scheduled.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-14-1> 1</a></span>
<span class=normal><a href=#__codelineno-14-2> 2</a></span>
<span class=normal><a href=#__codelineno-14-3> 3</a></span>
<span class=normal><a href=#__codelineno-14-4> 4</a></span>
<span class=normal><a href=#__codelineno-14-5> 5</a></span>
<span class=normal><a href=#__codelineno-14-6> 6</a></span>
<span class=normal><a href=#__codelineno-14-7> 7</a></span>
<span class=normal><a href=#__codelineno-14-8> 8</a></span>
<span class=normal><a href=#__codelineno-14-9> 9</a></span>
<span class=normal><a href=#__codelineno-14-10>10</a></span>
<span class=normal><a href=#__codelineno-14-11>11</a></span>
<span class=normal><a href=#__codelineno-14-12>12</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1></a><span class=gp>$ </span>kubectl<span class=w> </span>-n<span class=w> </span>rook-ceph<span class=w> </span>logs<span class=w> </span>deploy/csi-rbdplugin<span class=w> </span>-c<span class=w> </span>driver-registrar
<a id=__codelineno-14-2 name=__codelineno-14-2></a><span class=go>[...]</span>
<a id=__codelineno-14-3 name=__codelineno-14-3></a><span class=go>I0120 12:28:34.231761  124018 main.go:112] Version: v2.0.1</span>
<a id=__codelineno-14-4 name=__codelineno-14-4></a><span class=go>I0120 12:28:34.233910  124018 connection.go:151] Connecting to unix:///csi/csi.sock</span>
<a id=__codelineno-14-5 name=__codelineno-14-5></a><span class=go>I0120 12:28:35.242469  124018 node_register.go:55] Starting Registration Server at: /registration/rook-ceph.rbd.csi.ceph.com-reg.sock</span>
<a id=__codelineno-14-6 name=__codelineno-14-6></a><span class=go>I0120 12:28:35.243364  124018 node_register.go:64] Registration Server started at: /registration/rook-ceph.rbd.csi.ceph.com-reg.sock</span>
<a id=__codelineno-14-7 name=__codelineno-14-7></a><span class=go>I0120 12:28:35.243673  124018 node_register.go:86] Skipping healthz server because port set to: 0</span>
<a id=__codelineno-14-8 name=__codelineno-14-8></a><span class=go>I0120 12:28:36.318482  124018 main.go:79] Received GetInfo call: &amp;InfoRequest{}</span>
<a id=__codelineno-14-9 name=__codelineno-14-9></a><span class=go>I0120 12:28:37.455211  124018 main.go:89] Received NotifyRegistrationStatus call: &amp;RegistrationStatus{PluginRegistered:true,Error:,}</span>
<a id=__codelineno-14-10 name=__codelineno-14-10></a><span class=go>E0121 05:19:28.658390  124018 connection.go:129] Lost connection to unix:///csi/csi.sock.</span>
<a id=__codelineno-14-11 name=__codelineno-14-11></a><span class=go>E0125 07:11:42.926133  124018 connection.go:129] Lost connection to unix:///csi/csi.sock.</span>
<a id=__codelineno-14-12 name=__codelineno-14-12></a><span class=go>[...]</span>
</code></pre></div></td></tr></table></div> <p>You should see the response <code>RegistrationStatus{PluginRegistered:true,Error:,}</code> in the logs to confirm that plugin is registered with kubelet.</p> <p>If you see a driver not found an error in the application pod describe output. Restarting the <code>csi-xxxxplugin-xxx</code> pod on the node may help.</p> <h2 id=volume-attachment>Volume Attachment<a class=headerlink href=#volume-attachment title="Permanent link">&para;</a></h2> <p>Each provisioner pod also has a sidecar container called <code>csi-attacher</code>.</p> <h3 id=csi-attacher>csi-attacher<a class=headerlink href=#csi-attacher title="Permanent link">&para;</a></h3> <p>The external-attacher is a sidecar container that attaches volumes to nodes by calling <code>ControllerPublish</code> and <code>ControllerUnpublish</code> functions of CSI drivers. It is necessary because the internal Attach/Detach controller running in Kubernetes controller-manager does not have any direct interfaces to CSI drivers. More details can be found <a href=https://github.com/kubernetes-csi/external-attacher>here</a>.</p> <p>If any issue exists in attaching the PVC to the application pod first check the volumeattachment object created and also log from csi-attacher sidecar container in provisioner pod.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-15-1>1</a></span>
<span class=normal><a href=#__codelineno-15-2>2</a></span>
<span class=normal><a href=#__codelineno-15-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1></a><span class=gp>$ </span>kubectl<span class=w> </span>get<span class=w> </span>volumeattachment
<a id=__codelineno-15-2 name=__codelineno-15-2></a><span class=go>NAME                                                                   ATTACHER                        PV                                         NODE       ATTACHED   AGE</span>
<a id=__codelineno-15-3 name=__codelineno-15-3></a><span class=go>csi-75903d8a902744853900d188f12137ea1cafb6c6f922ebc1c116fd58e950fc92   rook-ceph.cephfs.csi.ceph.com   pvc-5c547d2a-fdb8-4cb2-b7fe-e0f30b88d454   minikube   true       4m26s</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-16-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1></a><span class=go>kubectl logs po/csi-rbdplugin-provisioner-d857bfb5f-ddctl -c csi-attacher</span>
</code></pre></div></td></tr></table></div> <h2 id=cephfs-stale-operations>CephFS Stale operations<a class=headerlink href=#cephfs-stale-operations title="Permanent link">&para;</a></h2> <p>Check for any stale mount commands on the <code>csi-cephfsplugin-xxxx</code> pod on the node where your application pod is scheduled.</p> <p>You need to exec in the <code>csi-cephfsplugin-xxxx</code> pod and grep for stale mount operators.</p> <p>Identify the <code>csi-cephfsplugin-xxxx</code> pod running on the node where your application is scheduled with <code>kubectl get po -o wide</code> and match the node names.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-17-1>1</a></span>
<span class=normal><a href=#__codelineno-17-2>2</a></span>
<span class=normal><a href=#__codelineno-17-3>3</a></span>
<span class=normal><a href=#__codelineno-17-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1></a><span class=gp>$ </span>kubectl<span class=w> </span><span class=nb>exec</span><span class=w> </span>-it<span class=w> </span>csi-cephfsplugin-tfk2g<span class=w> </span>-c<span class=w> </span>csi-cephfsplugin<span class=w> </span>--<span class=w> </span>sh
<a id=__codelineno-17-2 name=__codelineno-17-2></a><span class=gp>$ </span>ps<span class=w> </span>-ef<span class=w> </span><span class=p>|</span>grep<span class=w> </span>mount
<a id=__codelineno-17-3 name=__codelineno-17-3></a><span class=go>[...]</span>
<a id=__codelineno-17-4 name=__codelineno-17-4></a><span class=go>root          67      60  0 11:55 pts/0    00:00:00 grep mount</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-18-1>1</a></span>
<span class=normal><a href=#__codelineno-18-2>2</a></span>
<span class=normal><a href=#__codelineno-18-3>3</a></span>
<span class=normal><a href=#__codelineno-18-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1></a><span class=go>ps -ef |grep ceph</span>
<a id=__codelineno-18-2 name=__codelineno-18-2></a><span class=go>[...]</span>
<a id=__codelineno-18-3 name=__codelineno-18-3></a><span class=go>root           1       0  0 Jan20 ?        00:00:26 /usr/local/bin/cephcsi --nodeid=minikube --type=cephfs --endpoint=unix:///csi/csi.sock --v=0 --nodeserver=true --drivername=rook-ceph.cephfs.csi.ceph.com --pidlimit=-1 --metricsport=9091 --forcecephkernelclient=true --metricspath=/metrics --enablegrpcmetrics=true</span>
<a id=__codelineno-18-4 name=__codelineno-18-4></a><span class=go>root          69      60  0 11:55 pts/0    00:00:00 grep ceph</span>
</code></pre></div></td></tr></table></div> <p>If any commands are stuck check the <strong>dmesg</strong> logs from the node. Restarting the <code>csi-cephfsplugin</code> pod may also help sometimes.</p> <p>If you don’t see any stuck messages, confirm the network connectivity, Ceph health, and slow ops.</p> <h2 id=rbd-stale-operations>RBD Stale operations<a class=headerlink href=#rbd-stale-operations title="Permanent link">&para;</a></h2> <p>Check for any stale <code>map/mkfs/mount</code> commands on the <code>csi-rbdplugin-xxxx</code> pod on the node where your application pod is scheduled.</p> <p>You need to exec in the <code>csi-rbdplugin-xxxx</code> pod and grep for stale operators like (<code>rbd map, rbd unmap, mkfs, mount</code> and <code>umount</code>).</p> <p>Identify the <code>csi-rbdplugin-xxxx</code> pod running on the node where your application is scheduled with <code>kubectl get po -o wide</code> and match the node names.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-19-1>1</a></span>
<span class=normal><a href=#__codelineno-19-2>2</a></span>
<span class=normal><a href=#__codelineno-19-3>3</a></span>
<span class=normal><a href=#__codelineno-19-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1></a><span class=gp>$ </span>kubectl<span class=w> </span><span class=nb>exec</span><span class=w> </span>-it<span class=w> </span>csi-rbdplugin-vh8d5<span class=w> </span>-c<span class=w> </span>csi-rbdplugin<span class=w> </span>--<span class=w> </span>sh
<a id=__codelineno-19-2 name=__codelineno-19-2></a><span class=gp>$ </span>ps<span class=w> </span>-ef<span class=w> </span><span class=p>|</span>grep<span class=w> </span>map
<a id=__codelineno-19-3 name=__codelineno-19-3></a><span class=go>[...]</span>
<a id=__codelineno-19-4 name=__codelineno-19-4></a><span class=go>root     1297024 1296907  0 12:00 pts/0    00:00:00 grep map</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-20-1>1</a></span>
<span class=normal><a href=#__codelineno-20-2>2</a></span>
<span class=normal><a href=#__codelineno-20-3>3</a></span>
<span class=normal><a href=#__codelineno-20-4>4</a></span>
<span class=normal><a href=#__codelineno-20-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1></a><span class=gp>$ </span>ps<span class=w> </span>-ef<span class=w> </span><span class=p>|</span>grep<span class=w> </span>mount
<a id=__codelineno-20-2 name=__codelineno-20-2></a><span class=go>[...]</span>
<a id=__codelineno-20-3 name=__codelineno-20-3></a><span class=go>root        1824       1  0 Jan19 ?        00:00:00 /usr/sbin/rpc.mountd</span>
<a id=__codelineno-20-4 name=__codelineno-20-4></a><span class=go>ceph     1041020 1040955  1 07:11 ?        00:03:43 ceph-mgr --fsid=ba41ac93-3b55-4f32-9e06-d3d8c6ff7334 --keyring=/etc/ceph/keyring-store/keyring --log-to-stderr=true --err-to-stderr=true --mon-cluster-log-to-stderr=true --log-stderr-prefix=debug  --default-log-to-file=false --default-mon-cluster-log-to-file=false --mon-host=[v2:10.111.136.166:3300,v1:10.111.136.166:6789] --mon-initial-members=a --id=a --setuser=ceph --setgroup=ceph --client-mount-uid=0 --client-mount-gid=0 --foreground --public-addr=172.17.0.6</span>
<a id=__codelineno-20-5 name=__codelineno-20-5></a><span class=go>root     1297115 1296907  0 12:00 pts/0    00:00:00 grep mount</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-21-1>1</a></span>
<span class=normal><a href=#__codelineno-21-2>2</a></span>
<span class=normal><a href=#__codelineno-21-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1></a><span class=gp>$ </span>ps<span class=w> </span>-ef<span class=w> </span><span class=p>|</span>grep<span class=w> </span>mkfs
<a id=__codelineno-21-2 name=__codelineno-21-2></a><span class=go>[...]</span>
<a id=__codelineno-21-3 name=__codelineno-21-3></a><span class=go>root     1297291 1296907  0 12:00 pts/0    00:00:00 grep mkfs</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-22-1>1</a></span>
<span class=normal><a href=#__codelineno-22-2>2</a></span>
<span class=normal><a href=#__codelineno-22-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1></a><span class=gp>$ </span>ps<span class=w> </span>-ef<span class=w> </span><span class=p>|</span>grep<span class=w> </span>umount
<a id=__codelineno-22-2 name=__codelineno-22-2></a><span class=go>[...]</span>
<a id=__codelineno-22-3 name=__codelineno-22-3></a><span class=go>root     1298500 1296907  0 12:01 pts/0    00:00:00 grep umount</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-23-1>1</a></span>
<span class=normal><a href=#__codelineno-23-2>2</a></span>
<span class=normal><a href=#__codelineno-23-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1></a><span class=gp>$ </span>ps<span class=w> </span>-ef<span class=w> </span><span class=p>|</span>grep<span class=w> </span>unmap
<a id=__codelineno-23-2 name=__codelineno-23-2></a><span class=go>[...]</span>
<a id=__codelineno-23-3 name=__codelineno-23-3></a><span class=go>root     1298578 1296907  0 12:01 pts/0    00:00:00 grep unmap</span>
</code></pre></div></td></tr></table></div> <p>If any commands are stuck check the <strong>dmesg</strong> logs from the node. Restarting the <code>csi-rbdplugin</code> pod also may help sometimes.</p> <p>If you don’t see any stuck messages, confirm the network connectivity, Ceph health, and slow ops.</p> <h2 id=dmesg-logs>dmesg logs<a class=headerlink href=#dmesg-logs title="Permanent link">&para;</a></h2> <p>Check the dmesg logs on the node where pvc mounting is failing or the <code>csi-rbdplugin</code> container of the <code>csi-rbdplugin-xxxx</code> pod on that node.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-24-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1></a><span class=go>dmesg</span>
</code></pre></div></td></tr></table></div> <h2 id=rbd-commands>RBD Commands<a class=headerlink href=#rbd-commands title="Permanent link">&para;</a></h2> <p>If nothing else helps, get the last executed command from the ceph-csi pod logs and run it manually inside the provisioner or plugin pod to see if there are errors returned even if they couldn't be seen in the logs.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-25-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1></a><span class=go>rbd ls --id=csi-rbd-node -m=10.111.136.166:6789 --key=AQDpIQhg+v83EhAAgLboWIbl+FL/nThJzoI3Fg==</span>
</code></pre></div></td></tr></table></div> <p>Where <code>-m</code> is one of the mon endpoints and the <code>--key</code> is the key used by the CSI driver for accessing the Ceph cluster.</p> <h2 id=node-loss>Node Loss<a class=headerlink href=#node-loss title="Permanent link">&para;</a></h2> <p>When a node is lost, you will see application pods on the node stuck in the <code>Terminating</code> state while another pod is rescheduled and is in the <code>ContainerCreating</code> state.</p> <div class="admonition important"> <p class=admonition-title>Important</p> <p>For clusters with Kubernetes version 1.26 or greater, see the <a href=../../Storage-Configuration/Block-Storage-RBD/block-storage/#recover-rbd-rwo-volume-in-case-of-node-loss>improved automation</a> to recover from the node loss. If using K8s 1.25 or older, continue with these instructions.</p> </div> <h3 id=force-deleting-the-pod>Force deleting the pod<a class=headerlink href=#force-deleting-the-pod title="Permanent link">&para;</a></h3> <p>To force delete the pod stuck in the <code>Terminating</code> state:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-26-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1></a><span class=go>kubectl -n rook-ceph delete pod my-app-69cd495f9b-nl6hf --grace-period 0 --force</span>
</code></pre></div></td></tr></table></div> <p>After the force delete, wait for a timeout of about 8-10 minutes. If the pod still not in the running state, continue with the next section to blocklist the node.</p> <h3 id=blocklisting-a-node>Blocklisting a node<a class=headerlink href=#blocklisting-a-node title="Permanent link">&para;</a></h3> <p>To shorten the timeout, you can mark the node as "blocklisted" from the <a href=../ceph-toolbox/ >Rook toolbox</a> so Rook can safely failover the pod sooner.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-27-1>1</a></span>
<span class=normal><a href=#__codelineno-27-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1></a><span class=gp>$ </span>ceph<span class=w> </span>osd<span class=w> </span>blocklist<span class=w> </span>add<span class=w> </span>&lt;NODE_IP&gt;<span class=w> </span><span class=c1># get the node IP you want to blocklist</span>
<a id=__codelineno-27-2 name=__codelineno-27-2></a><span class=go>blocklisting &lt;NODE_IP&gt;</span>
</code></pre></div></td></tr></table></div> <p>After running the above command within a few minutes the pod will be running.</p> <h3 id=removing-a-node-blocklist>Removing a node blocklist<a class=headerlink href=#removing-a-node-blocklist title="Permanent link">&para;</a></h3> <p>After you are absolutely sure the node is permanently offline and that the node no longer needs to be blocklisted, remove the node from the blocklist.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-28-1>1</a></span>
<span class=normal><a href=#__codelineno-28-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1></a><span class=gp>$ </span>ceph<span class=w> </span>osd<span class=w> </span>blocklist<span class=w> </span>rm<span class=w> </span>&lt;NODE_IP&gt;
<a id=__codelineno-28-2 name=__codelineno-28-2></a><span class=go>un-blocklisting &lt;NODE_IP&gt;</span>
</code></pre></div></td></tr></table></div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> <a href=/ class=logo> <img src=https://rook.io/images/rook-logo-small.svg alt="rook.io logo"> </a> <p> &#169; Rook Authors 2022. Documentation distributed under <a href=https://creativecommons.org/licenses/by/4.0>CC-BY-4.0</a>. </p> <p> &#169; 2022 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href=https://www.linuxfoundation.org/trademark-usage/ >Trademark Usage</a> page. </p> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://slack.rook.io/ target=_blank rel=noopener title=slack.rook.io class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg> </a> <a href=https://twitter.com/rook_io target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://groups.google.com/forum/#!forum/rook-dev target=_blank rel=noopener title=groups.google.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M128 0c-17.7 0-32 14.3-32 32v192h96v-32c0-35.3 28.7-64 64-64h224V32c0-17.7-14.3-32-32-32H128zm128 160c-17.7 0-32 14.3-32 32v32h96c35.3 0 64 28.7 64 64v128h192c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32H256zm240 64h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16zM64 256c-17.7 0-32 14.3-32 32v13l155.1 114.9c1.4 1 3.1 1.6 4.9 1.6s3.5-.6 4.9-1.6L352 301v-13c0-17.7-14.3-32-32-32H64zm288 84.8L216 441.6c-6.9 5.1-15.3 7.9-24 7.9s-17-2.8-24-7.9L32 340.8V480c0 17.7 14.3 32 32 32h256c17.7 0 32-14.3 32-32V340.8z"/></svg> </a> <a href=https://blog.rook.io/ target=_blank rel=noopener title=blog.rook.io class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M180.5 74.262C80.813 74.262 0 155.633 0 256s80.819 181.738 180.5 181.738S361 356.373 361 256 280.191 74.262 180.5 74.262Zm288.25 10.646c-49.845 0-90.245 76.619-90.245 171.095s40.406 171.1 90.251 171.1 90.251-76.619 90.251-171.1H559c0-94.503-40.4-171.095-90.248-171.095Zm139.506 17.821c-17.526 0-31.735 68.628-31.735 153.274s14.2 153.274 31.735 153.274S640 340.631 640 256c0-84.649-14.215-153.271-31.742-153.271Z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.tabs.link", "instant", "navigation.expand", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "tabs"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest-release", "provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.c18c5fb9.min.js></script> </body> </html>