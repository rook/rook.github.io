<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Rook Ceph Documentation"><meta name=author content="Rook Authors"><link href=https://rook.io/v1.16/CRDs/Cluster/network-providers/ rel=canonical><link href=../external-cluster/topology-for-external-mode/ rel=prev><link href=../../Block-Storage/ceph-block-pool-crd/ rel=next><link rel=icon href=https://rook.io/images/favicon_192x192.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.49"><title>Network Providers - Rook Ceph Documentation</title><link rel=stylesheet href=../../../assets/stylesheets/main.6f8fc17f.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../../stylesheets/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=rook-blue data-md-color-accent=deep-orange> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#ceph-networking-fundamentals class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> This documentation is not for the latest stable version of Rook. <a href=../../../../latest-release/ > <strong>Click here for the latest release documentation.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="Rook Ceph Documentation" class="md-header__button md-logo" aria-label="Rook Ceph Documentation" data-md-component=logo> <img src=https://rook.io/images/rook-logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Rook Ceph Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Network Providers </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=rook-blue data-md-color-accent=deep-orange aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=rook-blue data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/rook/rook title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../Getting-Started/intro/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../../Helm-Charts/helm-charts/ class=md-tabs__link> Helm Charts </a> </li> <li class=md-tabs__item> <a href=../../../Storage-Configuration/Block-Storage-RBD/block-storage/ class=md-tabs__link> Storage Configuration </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ceph-cluster-crd/ class=md-tabs__link> Custom Resources </a> </li> <li class=md-tabs__item> <a href=../../../Troubleshooting/kubectl-plugin/ class=md-tabs__link> Troubleshooting </a> </li> <li class=md-tabs__item> <a href=../../../Upgrade/health-verification/ class=md-tabs__link> Upgrade </a> </li> <li class=md-tabs__item> <a href=../../../Contributing/development-flow/ class=md-tabs__link> Contributing </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="Rook Ceph Documentation" class="md-nav__button md-logo" aria-label="Rook Ceph Documentation" data-md-component=logo> <img src=https://rook.io/images/rook-logo.svg alt=logo> </a> Rook Ceph Documentation </label> <div class=md-nav__source> <a href=https://github.com/rook/rook title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Getting-Started/intro/ class=md-nav__link> <span class=md-ellipsis> Rook </span> </a> </li> <li class=md-nav__item> <a href=../../../Getting-Started/glossary/ class=md-nav__link> <span class=md-ellipsis> Glossary </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1_3> <label class=md-nav__link for=__nav_1_3 id=__nav_1_3_label tabindex=0> <span class=md-ellipsis> Prerequisites </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_3_label aria-expanded=false> <label class=md-nav__title for=__nav_1_3> <span class="md-nav__icon md-icon"></span> Prerequisites </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Getting-Started/Prerequisites/prerequisites/ class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=../../../Getting-Started/Prerequisites/authenticated-registry/ class=md-nav__link> <span class=md-ellipsis> Authenticated Container Registries </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../Getting-Started/quickstart/ class=md-nav__link> <span class=md-ellipsis> Quickstart </span> </a> </li> <li class=md-nav__item> <a href=../../../Getting-Started/storage-architecture/ class=md-nav__link> <span class=md-ellipsis> Storage Architecture </span> </a> </li> <li class=md-nav__item> <a href=../../../Getting-Started/example-configurations/ class=md-nav__link> <span class=md-ellipsis> Example Configurations </span> </a> </li> <li class=md-nav__item> <a href=../../../Getting-Started/ceph-openshift/ class=md-nav__link> <span class=md-ellipsis> OpenShift </span> </a> </li> <li class=md-nav__item> <a href=../../../Getting-Started/ceph-teardown/ class=md-nav__link> <span class=md-ellipsis> Cleanup </span> </a> </li> <li class=md-nav__item> <a href=../../../Getting-Started/release-cycle/ class=md-nav__link> <span class=md-ellipsis> Release Cycle </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Helm Charts </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Helm Charts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Helm-Charts/helm-charts/ class=md-nav__link> <span class=md-ellipsis> Helm Charts Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../Helm-Charts/operator-chart/ class=md-nav__link> <span class=md-ellipsis> Ceph Operator Helm Chart </span> </a> </li> <li class=md-nav__item> <a href=../../../Helm-Charts/ceph-cluster-chart/ class=md-nav__link> <span class=md-ellipsis> Ceph Cluster Helm Chart </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Storage Configuration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Storage Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> Block Storage (RBD) </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Block Storage (RBD) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Storage-Configuration/Block-Storage-RBD/block-storage/ class=md-nav__link> <span class=md-ellipsis> Block Storage Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Block-Storage-RBD/rbd-mirroring/ class=md-nav__link> <span class=md-ellipsis> RBD Mirroring </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Block-Storage-RBD/rbd-async-disaster-recovery-failover-failback/ class=md-nav__link> <span class=md-ellipsis> RBD Asynchronous DR Failover and Failback </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Shared Filesystem (CephFS) </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Shared Filesystem (CephFS) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Storage-Configuration/Shared-Filesystem-CephFS/filesystem-storage/ class=md-nav__link> <span class=md-ellipsis> Filesystem Storage Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Shared-Filesystem-CephFS/filesystem-mirroring/ class=md-nav__link> <span class=md-ellipsis> Filesystem Mirroring </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> Object Storage (RGW) </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Object Storage (RGW) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Storage-Configuration/Object-Storage-RGW/object-storage/ class=md-nav__link> <span class=md-ellipsis> Object Storage Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Object-Storage-RGW/ceph-object-bucket-claim/ class=md-nav__link> <span class=md-ellipsis> Bucket Claim </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Object-Storage-RGW/ceph-object-bucket-notifications/ class=md-nav__link> <span class=md-ellipsis> Object Bucket Notifications </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Object-Storage-RGW/ceph-object-multisite/ class=md-nav__link> <span class=md-ellipsis> Object Store Multisite </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Object-Storage-RGW/ceph-object-swift/ class=md-nav__link> <span class=md-ellipsis> Object Store with Keystone and Swift </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Object-Storage-RGW/cosi/ class=md-nav__link> <span class=md-ellipsis> Container Object Storage Interface (COSI) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> NFS </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> NFS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Storage-Configuration/NFS/nfs/ class=md-nav__link> <span class=md-ellipsis> NFS Storage Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/NFS/nfs-csi-driver/ class=md-nav__link> <span class=md-ellipsis> CSI provisioner and driver </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/NFS/nfs-security/ class=md-nav__link> <span class=md-ellipsis> Security </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/NFS/nfs-advanced/ class=md-nav__link> <span class=md-ellipsis> Advanced configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class=md-ellipsis> Monitoring </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Storage-Configuration/Monitoring/ceph-dashboard/ class=md-nav__link> <span class=md-ellipsis> Ceph Dashboard </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Monitoring/ceph-monitoring/ class=md-nav__link> <span class=md-ellipsis> Prometheus Monitoring </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> <span class=md-ellipsis> Ceph CSI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Ceph CSI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Storage-Configuration/Ceph-CSI/ceph-csi-drivers/ class=md-nav__link> <span class=md-ellipsis> Ceph CSI Drivers </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Ceph-CSI/ceph-csi-snapshot/ class=md-nav__link> <span class=md-ellipsis> Snapshots </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Ceph-CSI/ceph-csi-volume-group-snapshot/ class=md-nav__link> <span class=md-ellipsis> Volume Group Snapshots </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Ceph-CSI/ceph-csi-volume-clone/ class=md-nav__link> <span class=md-ellipsis> Volume clone </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Ceph-CSI/custom-images/ class=md-nav__link> <span class=md-ellipsis> Custom Images </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/ceph-teardown/ class=md-nav__link> <span class=md-ellipsis> Cleanup </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_8> <label class=md-nav__link for=__nav_3_8 id=__nav_3_8_label tabindex=0> <span class=md-ellipsis> Advanced </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Storage-Configuration/Advanced/ceph-configuration/ class=md-nav__link> <span class=md-ellipsis> Ceph Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Advanced/configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Advanced/key-management-system/ class=md-nav__link> <span class=md-ellipsis> Key Management System </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Advanced/ceph-osd-mgmt/ class=md-nav__link> <span class=md-ellipsis> Ceph OSD Management </span> </a> </li> <li class=md-nav__item> <a href=../../../Storage-Configuration/Advanced/ceph-mon-health/ class=md-nav__link> <span class=md-ellipsis> Monitor Health </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Custom Resources </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Custom Resources </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1 checked> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> <span class=md-ellipsis> Cluster Configuration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=true> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Cluster Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ceph-cluster-crd/ class=md-nav__link> <span class=md-ellipsis> CephCluster CRD </span> </a> </li> <li class=md-nav__item> <a href=../host-cluster/ class=md-nav__link> <span class=md-ellipsis> Host Storage Cluster </span> </a> </li> <li class=md-nav__item> <a href=../pvc-cluster/ class=md-nav__link> <span class=md-ellipsis> PVC Storage Cluster </span> </a> </li> <li class=md-nav__item> <a href=../stretch-cluster/ class=md-nav__link> <span class=md-ellipsis> Stretch Storage Cluster </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_1_5> <label class=md-nav__link for=__nav_4_1_5 id=__nav_4_1_5_label tabindex=0> <span class=md-ellipsis> External cluster </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_1_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1_5> <span class="md-nav__icon md-icon"></span> External cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../external-cluster/external-cluster/ class=md-nav__link> <span class=md-ellipsis> External Storage Cluster </span> </a> </li> <li class=md-nav__item> <a href=../external-cluster/provider-export/ class=md-nav__link> <span class=md-ellipsis> Export config from the Ceph provider cluster </span> </a> </li> <li class=md-nav__item> <a href=../external-cluster/consumer-import/ class=md-nav__link> <span class=md-ellipsis> Import Ceph configuration to the Rook consumer cluster </span> </a> </li> <li class=md-nav__item> <a href=../external-cluster/upgrade-external/ class=md-nav__link> <span class=md-ellipsis> External Cluster Upgrades </span> </a> </li> <li class=md-nav__item> <a href=../external-cluster/advance-external/ class=md-nav__link> <span class=md-ellipsis> External Cluster Options </span> </a> </li> <li class=md-nav__item> <a href=../external-cluster/topology-for-external-mode/ class=md-nav__link> <span class=md-ellipsis> Topology-Based Provisioning </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Network Providers </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Network Providers </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ceph-networking-fundamentals class=md-nav__link> <span class=md-ellipsis> Ceph Networking Fundamentals </span> </a> </li> <li class=md-nav__item> <a href=#specifying-ceph-network-selections class=md-nav__link> <span class=md-ellipsis> Specifying Ceph Network Selections </span> </a> </li> <li class=md-nav__item> <a href=#host-networking class=md-nav__link> <span class=md-ellipsis> Host Networking </span> </a> </li> <li class=md-nav__item> <a href=#multus class=md-nav__link> <span class=md-ellipsis> Multus </span> </a> <nav class=md-nav aria-label=Multus> <ul class=md-nav__list> <li class=md-nav__item> <a href=#multus-prerequisites class=md-nav__link> <span class=md-ellipsis> Multus Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#multus-configuration class=md-nav__link> <span class=md-ellipsis> Multus Configuration </span> </a> </li> <li class=md-nav__item> <a href=#validating-multus-configuration class=md-nav__link> <span class=md-ellipsis> Validating Multus configuration </span> </a> </li> <li class=md-nav__item> <a href=#known-limitations-with-multus class=md-nav__link> <span class=md-ellipsis> Known limitations with Multus </span> </a> </li> <li class=md-nav__item> <a href=#multus-examples class=md-nav__link> <span class=md-ellipsis> Multus examples </span> </a> <nav class=md-nav aria-label="Multus examples"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#macvlan-whereabouts-node-dynamic-ips class=md-nav__link> <span class=md-ellipsis> Macvlan, Whereabouts, Node Dynamic IPs </span> </a> </li> <li class=md-nav__item> <a href=#macvlan-whereabouts-node-static-ips class=md-nav__link> <span class=md-ellipsis> Macvlan, Whereabouts, Node Static IPs </span> </a> </li> <li class=md-nav__item> <a href=#macvlan-dhcp class=md-nav__link> <span class=md-ellipsis> Macvlan, DHCP </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Block Storage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Block Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Block-Storage/ceph-block-pool-crd/ class=md-nav__link> <span class=md-ellipsis> CephBlockPool CRD </span> </a> </li> <li class=md-nav__item> <a href=../../Block-Storage/ceph-block-pool-rados-namespace-crd/ class=md-nav__link> <span class=md-ellipsis> CephBlockPoolRados Namespace CRD </span> </a> </li> <li class=md-nav__item> <a href=../../Block-Storage/ceph-rbd-mirror-crd/ class=md-nav__link> <span class=md-ellipsis> CephRBDMirror CRD </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Shared Filesystem </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Shared Filesystem </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Shared-Filesystem/ceph-filesystem-crd/ class=md-nav__link> <span class=md-ellipsis> CephFilesystem CRD </span> </a> </li> <li class=md-nav__item> <a href=../../Shared-Filesystem/ceph-fs-mirror-crd/ class=md-nav__link> <span class=md-ellipsis> CephFilesystemMirror CRD </span> </a> </li> <li class=md-nav__item> <a href=../../Shared-Filesystem/ceph-fs-subvolumegroup-crd/ class=md-nav__link> <span class=md-ellipsis> FilesystemSubVolumeGroup CRD </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> Object Storage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Object Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Object-Storage/ceph-object-store-crd/ class=md-nav__link> <span class=md-ellipsis> CephObjectStore CRD </span> </a> </li> <li class=md-nav__item> <a href=../../Object-Storage/ceph-object-store-user-crd/ class=md-nav__link> <span class=md-ellipsis> CephObjectStoreUser CRD </span> </a> </li> <li class=md-nav__item> <a href=../../Object-Storage/ceph-object-realm-crd/ class=md-nav__link> <span class=md-ellipsis> CephObjectRealm CRD </span> </a> </li> <li class=md-nav__item> <a href=../../Object-Storage/ceph-object-zonegroup-crd/ class=md-nav__link> <span class=md-ellipsis> CephObjectZoneGroup CRD </span> </a> </li> <li class=md-nav__item> <a href=../../Object-Storage/ceph-object-zone-crd/ class=md-nav__link> <span class=md-ellipsis> CephObjectZone CRD </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../ceph-client-crd/ class=md-nav__link> <span class=md-ellipsis> CephClient CRD </span> </a> </li> <li class=md-nav__item> <a href=../../ceph-nfs-crd/ class=md-nav__link> <span class=md-ellipsis> CephNFS CRD </span> </a> </li> <li class=md-nav__item> <a href=../../specification/ class=md-nav__link> <span class=md-ellipsis> Specification </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Troubleshooting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Troubleshooting/kubectl-plugin/ class=md-nav__link> <span class=md-ellipsis> kubectl Plugin </span> </a> </li> <li class=md-nav__item> <a href=../../../Troubleshooting/ceph-toolbox/ class=md-nav__link> <span class=md-ellipsis> Toolbox </span> </a> </li> <li class=md-nav__item> <a href=../../../Troubleshooting/common-issues/ class=md-nav__link> <span class=md-ellipsis> Common Issues </span> </a> </li> <li class=md-nav__item> <a href=../../../Troubleshooting/ceph-common-issues/ class=md-nav__link> <span class=md-ellipsis> Ceph Common Issues </span> </a> </li> <li class=md-nav__item> <a href=../../../Troubleshooting/ceph-csi-common-issues/ class=md-nav__link> <span class=md-ellipsis> CSI Common Issues </span> </a> </li> <li class=md-nav__item> <a href=../../../Troubleshooting/openshift-common-issues/ class=md-nav__link> <span class=md-ellipsis> OpenShift Common Issues </span> </a> </li> <li class=md-nav__item> <a href=../../../Troubleshooting/disaster-recovery/ class=md-nav__link> <span class=md-ellipsis> Disaster Recovery </span> </a> </li> <li class=md-nav__item> <a href=../../../Troubleshooting/direct-tools/ class=md-nav__link> <span class=md-ellipsis> Direct Tools </span> </a> </li> <li class=md-nav__item> <a href=../../../Troubleshooting/performance-profiling/ class=md-nav__link> <span class=md-ellipsis> Performance Profiling </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Upgrade </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Upgrade </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Upgrade/health-verification/ class=md-nav__link> <span class=md-ellipsis> Health Verification </span> </a> </li> <li class=md-nav__item> <a href=../../../Upgrade/rook-upgrade/ class=md-nav__link> <span class=md-ellipsis> Rook Upgrades </span> </a> </li> <li class=md-nav__item> <a href=../../../Upgrade/ceph-upgrade/ class=md-nav__link> <span class=md-ellipsis> Ceph Upgrades </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Contributing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Contributing/development-flow/ class=md-nav__link> <span class=md-ellipsis> Development Flow </span> </a> </li> <li class=md-nav__item> <a href=../../../Contributing/development-environment/ class=md-nav__link> <span class=md-ellipsis> Developer Environment </span> </a> </li> <li class=md-nav__item> <a href=../../../Contributing/documentation/ class=md-nav__link> <span class=md-ellipsis> Documentation </span> </a> </li> <li class=md-nav__item> <a href=../../../Contributing/ci-configuration/ class=md-nav__link> <span class=md-ellipsis> CI Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../../Contributing/rook-test-framework/ class=md-nav__link> <span class=md-ellipsis> Rook Test Framework </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ceph-networking-fundamentals class=md-nav__link> <span class=md-ellipsis> Ceph Networking Fundamentals </span> </a> </li> <li class=md-nav__item> <a href=#specifying-ceph-network-selections class=md-nav__link> <span class=md-ellipsis> Specifying Ceph Network Selections </span> </a> </li> <li class=md-nav__item> <a href=#host-networking class=md-nav__link> <span class=md-ellipsis> Host Networking </span> </a> </li> <li class=md-nav__item> <a href=#multus class=md-nav__link> <span class=md-ellipsis> Multus </span> </a> <nav class=md-nav aria-label=Multus> <ul class=md-nav__list> <li class=md-nav__item> <a href=#multus-prerequisites class=md-nav__link> <span class=md-ellipsis> Multus Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#multus-configuration class=md-nav__link> <span class=md-ellipsis> Multus Configuration </span> </a> </li> <li class=md-nav__item> <a href=#validating-multus-configuration class=md-nav__link> <span class=md-ellipsis> Validating Multus configuration </span> </a> </li> <li class=md-nav__item> <a href=#known-limitations-with-multus class=md-nav__link> <span class=md-ellipsis> Known limitations with Multus </span> </a> </li> <li class=md-nav__item> <a href=#multus-examples class=md-nav__link> <span class=md-ellipsis> Multus examples </span> </a> <nav class=md-nav aria-label="Multus examples"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#macvlan-whereabouts-node-dynamic-ips class=md-nav__link> <span class=md-ellipsis> Macvlan, Whereabouts, Node Dynamic IPs </span> </a> </li> <li class=md-nav__item> <a href=#macvlan-whereabouts-node-static-ips class=md-nav__link> <span class=md-ellipsis> Macvlan, Whereabouts, Node Static IPs </span> </a> </li> <li class=md-nav__item> <a href=#macvlan-dhcp class=md-nav__link> <span class=md-ellipsis> Macvlan, DHCP </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Network Providers</h1> <p>Rook deploys CephClusters using Kubernetes' software-defined networks by default. This is simple for users, provides necessary connectivity, and has good node-level security. However, this comes at the expense of additional latency, and the storage network must contend with Kubernetes applications for network bandwidth. It also means that Kubernetes applications coexist on the same network as Ceph daemons and can reach the Ceph cluster easily via network scanning.</p> <p>Rook allows selecting alternative network providers to address some of these downsides, sometimes at the expense of others. Selecting alternative network providers is an advanced topic.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This is an advanced networking topic. See also the <a href=../ceph-cluster-crd/#network-configuration-settings>CephCluster general networking settings.</a></p> </div> <h2 id=ceph-networking-fundamentals>Ceph Networking Fundamentals<a class=headerlink href=#ceph-networking-fundamentals title="Permanent link">&para;</a></h2> <p>Ceph daemons can operate on up to two distinct networks: public, and cluster.</p> <p>Ceph daemons always use the public network. The public network is used for client communications with the Ceph cluster (reads/writes). Rook configures this as the Kubernetes pod network by default. Ceph-CSI uses this network for PVCs.</p> <p>The cluster network is optional and is used to isolate internal Ceph replication traffic. This includes additional copies of data replicated between OSDs during client reads/writes. This also includes OSD data recovery (re-replication) when OSDs or nodes go offline. If the cluster network is unspecified, the public network is used for this traffic instead.</p> <p>Refer to <a href=https://docs.ceph.com/docs/master/rados/configuration/network-config-ref/ >Ceph networking documentation</a> for deeper explanations of any topics.</p> <h2 id=specifying-ceph-network-selections>Specifying Ceph Network Selections<a class=headerlink href=#specifying-ceph-network-selections title="Permanent link">&para;</a></h2> <p><code>network.addressRanges</code></p> <p>This configuration is always optional but is important to understand.</p> <p>Some Rook network providers allow specifying the public and network interfaces that Ceph will use for data traffic. Use <code>addressRanges</code> to specify this. For example:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span>
<span class=normal><a href=#__codelineno-0-4>4</a></span>
<span class=normal><a href=#__codelineno-0-5>5</a></span>
<span class=normal><a href=#__codelineno-0-6>6</a></span>
<span class=normal><a href=#__codelineno-0-7>7</a></span>
<span class=normal><a href=#__codelineno-0-8>8</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=w>  </span><span class=nt>network</span><span class=p>:</span>
<a id=__codelineno-0-2 name=__codelineno-0-2></a><span class=w>    </span><span class=nt>provider</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">host</span>
<a id=__codelineno-0-3 name=__codelineno-0-3></a><span class=w>    </span><span class=nt>addressRanges</span><span class=p>:</span>
<a id=__codelineno-0-4 name=__codelineno-0-4></a><span class=w>      </span><span class=nt>public</span><span class=p>:</span>
<a id=__codelineno-0-5 name=__codelineno-0-5></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;192.168.100.0/24&quot;</span>
<a id=__codelineno-0-6 name=__codelineno-0-6></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;192.168.101.0/24&quot;</span>
<a id=__codelineno-0-7 name=__codelineno-0-7></a><span class=w>      </span><span class=nt>cluster</span><span class=p>:</span>
<a id=__codelineno-0-8 name=__codelineno-0-8></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;192.168.200.0/24&quot;</span>
</code></pre></div></td></tr></table></div> <p>This <code>public</code> and <code>cluster</code> translate directly to Ceph's <code>public_network</code> and <code>host_network</code> configurations.</p> <p>The default network provider cannot make use of these configurations.</p> <p>Ceph public and cluster network configurations are allowed to change, but this should be done with great care. When updating underlying networks or Ceph network settings, Rook assumes that the current network configuration used by Ceph daemons will continue to operate as intended. Network changes are not applied to Ceph daemon pods (like OSDs and MDSes) until the pod is restarted. When making network changes, ensure that restarted pods will not lose connectivity to existing pods, and vice versa.</p> <h2 id=host-networking>Host Networking<a class=headerlink href=#host-networking title="Permanent link">&para;</a></h2> <p><code>network.provider: host</code></p> <p>Host networking allows the Ceph cluster to use network interfaces on Kubernetes hosts for communication. This eliminates latency from the software-defined pod network, but it provides no host-level security isolation.</p> <p>Ceph daemons will use any network available on the host for communication. To restrict Ceph to using only a specific specific host interfaces or networks, use <code>addressRanges</code> to select the network CIDRs Ceph will bind to on the host.</p> <p>If the Ceph mons are expected to bind to a public network that is different from the IP address assign to the K8s node where the mon is running, the IP address for the mon can be set by adding an annotation to the node:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-1-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1></a><span class=nt>network.rook.io/mon-ip</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">&lt;IPAddress&gt;</span>
</code></pre></div></td></tr></table></div> <p>If the host networking setting is changed in a cluster where mons are already running, the existing mons will remain running with the same network settings with which they were created. To complete the conversion to or from host networking after you update this setting, you will need to <a href=../../../Storage-Configuration/Advanced/ceph-mon-health/#failing-over-a-monitor>failover the mons</a> in order to have mons on the desired network configuration.</p> <h2 id=multus>Multus<a class=headerlink href=#multus title="Permanent link">&para;</a></h2> <p><code>network.provider: multus</code></p> <p>Rook supports using Multus NetworkAttachmentDefinitions for Ceph public and cluster networks.</p> <p>This allows Rook to attach any CNI to Ceph as a public and/or cluster network. This provides strong isolation between Kubernetes applications and Ceph cluster daemons.</p> <p>While any CNI may be used, the intent is to allow use of CNIs which allow Ceph to be connected to specific host interfaces. This improves latency and bandwidth while preserving host-level network isolation.</p> <h3 id=multus-prerequisites>Multus Prerequisites<a class=headerlink href=#multus-prerequisites title="Permanent link">&para;</a></h3> <p>In order for host network-enabled Ceph-CSI to communicate with a Multus-enabled CephCluster, some setup is required for Kubernetes hosts.</p> <p>These prerequisites require an understanding of how Multus networks are configured and how Rook uses them. Following sections will help clarify questions that may arise here.</p> <p>Two basic requirements must be met:</p> <ol> <li>Kubernetes hosts must be able to route successfully to the Multus public network.</li> <li>Pods on the Multus public network must be able to route successfully to Kubernetes hosts.</li> </ol> <p>These two requirements can be broken down further as follows:</p> <ol> <li>For routing Kubernetes hosts to the Multus public network, each host must ensure the following:<ol> <li>the host must have an interface connected to the Multus public network (the "public-network-interface").</li> <li>the "public-network-interface" must have an IP address.</li> <li>a route must exist to direct traffic destined for pods on the Multus public network through the "public-network-interface".</li> </ol> </li> <li>For routing pods on the Multus public network to Kubernetes hosts, the public NetworkAttachementDefinition must be configured to ensure the following:<ol> <li>The definition must have its IP Address Management (IPAM) configured to route traffic destined for nodes through the network.</li> </ol> </li> <li>To ensure routing between the two networks works properly, no IP address assigned to a node can overlap with any IP address assigned to a pod on the Multus public network.</li> </ol> <p>These requirements require careful planning, but some methods are able to meet these requirements more easily than others. <a href=#multus-examples>Examples are provided after the full document</a> to help understand and implement these requirements.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Keep in mind that there are often ten or more Rook/Ceph pods per host. The pod address space may need to be an order of magnitude larger (or more) than the host address space to allow the storage cluster to grow in the future.</p> </div> <h3 id=multus-configuration>Multus Configuration<a class=headerlink href=#multus-configuration title="Permanent link">&para;</a></h3> <p>Refer to <a href=https://github.com/k8snetworkplumbingwg/multus-cni/blob/master/docs/how-to-use.md>Multus documentation</a> for details about how to set up and select Multus networks.</p> <p>Rook will attempt to auto-discover the network CIDRs for selected public and/or cluster networks. This process is not guaranteed to succeed. Furthermore, this process will get a new network lease for each CephCluster reconcile. Specify <code>addressRanges</code> manually if the auto-detection process fails or if the selected network configuration cannot automatically recycle released network leases.</p> <p>Only OSD pods will have both public and cluster networks attached (if specified). The rest of the Ceph component pods and CSI pods will only have the public network attached. The Rook operator will not have any networks attached; it proxies Ceph commands via a sidecar container in the mgr pod.</p> <p>A NetworkAttachmentDefinition must exist before it can be used by Multus for a Ceph network. A recommended definition will look like the following:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-2-1> 1</a></span>
<span class=normal><a href=#__codelineno-2-2> 2</a></span>
<span class=normal><a href=#__codelineno-2-3> 3</a></span>
<span class=normal><a href=#__codelineno-2-4> 4</a></span>
<span class=normal><a href=#__codelineno-2-5> 5</a></span>
<span class=normal><a href=#__codelineno-2-6> 6</a></span>
<span class=normal><a href=#__codelineno-2-7> 7</a></span>
<span class=normal><a href=#__codelineno-2-8> 8</a></span>
<span class=normal><a href=#__codelineno-2-9> 9</a></span>
<span class=normal><a href=#__codelineno-2-10>10</a></span>
<span class=normal><a href=#__codelineno-2-11>11</a></span>
<span class=normal><a href=#__codelineno-2-12>12</a></span>
<span class=normal><a href=#__codelineno-2-13>13</a></span>
<span class=normal><a href=#__codelineno-2-14>14</a></span>
<span class=normal><a href=#__codelineno-2-15>15</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=s>&quot;k8s.cni.cncf.io/v1&quot;</span>
<a id=__codelineno-2-2 name=__codelineno-2-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">NetworkAttachmentDefinition</span>
<a id=__codelineno-2-3 name=__codelineno-2-3></a><span class=nt>metadata</span><span class=p>:</span>
<a id=__codelineno-2-4 name=__codelineno-2-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ceph-multus-net</span>
<a id=__codelineno-2-5 name=__codelineno-2-5></a><span class=nt>spec</span><span class=p>:</span>
<a id=__codelineno-2-6 name=__codelineno-2-6></a><span class=w>  </span><span class=nt>config</span><span class=p>:</span><span class=w> </span><span class=s>&#39;{</span>
<a id=__codelineno-2-7 name=__codelineno-2-7></a><span class=w>      </span><span class=s>&quot;cniVersion&quot;:</span><span class=nv> </span><span class=s>&quot;0.3.1&quot;,</span>
<a id=__codelineno-2-8 name=__codelineno-2-8></a><span class=w>      </span><span class=s>&quot;type&quot;:</span><span class=nv> </span><span class=s>&quot;macvlan&quot;,</span>
<a id=__codelineno-2-9 name=__codelineno-2-9></a><span class=w>      </span><span class=s>&quot;master&quot;:</span><span class=nv> </span><span class=s>&quot;eth0&quot;,</span>
<a id=__codelineno-2-10 name=__codelineno-2-10></a><span class=w>      </span><span class=s>&quot;mode&quot;:</span><span class=nv> </span><span class=s>&quot;bridge&quot;,</span>
<a id=__codelineno-2-11 name=__codelineno-2-11></a><span class=w>      </span><span class=s>&quot;ipam&quot;:</span><span class=nv> </span><span class=s>{</span>
<a id=__codelineno-2-12 name=__codelineno-2-12></a><span class=w>        </span><span class=s>&quot;type&quot;:</span><span class=nv> </span><span class=s>&quot;whereabouts&quot;,</span>
<a id=__codelineno-2-13 name=__codelineno-2-13></a><span class=w>        </span><span class=s>&quot;range&quot;:</span><span class=nv> </span><span class=s>&quot;192.168.200.0/24&quot;</span>
<a id=__codelineno-2-14 name=__codelineno-2-14></a><span class=w>      </span><span class=s>}</span>
<a id=__codelineno-2-15 name=__codelineno-2-15></a><span class=w>    </span><span class=s>}&#39;</span>
</code></pre></div></td></tr></table></div> <ul> <li>Note that the example above does not specify information that would route pods on the network to Kubernetes hosts.</li> <li>Ensure that <code>master</code> matches the network interface on hosts that you want to use. It must be the same across all hosts.</li> <li>CNI type <a href=https://www.cni.dev/plugins/current/main/macvlan/ >macvlan</a> is highly recommended. It has less CPU and memory overhead compared to traditional Linux <code>bridge</code> configurations.</li> <li>IPAM type <a href=https://github.com/k8snetworkplumbingwg/whereabouts>whereabouts</a> is recommended because it ensures each pod gets an IP address unique within the Kubernetes cluster. No DHCP server is required. If a DHCP server is present on the network, ensure the IP range does not overlap with the DHCP server's range.</li> </ul> <p>NetworkAttachmentDefinitions are selected for the desired Ceph network using <code>selectors</code>. Selector values should include the namespace in which the NAD is present. <code>public</code> and <code>cluster</code> may be selected independently. If <code>public</code> is left unspecified, Rook will configure Ceph to use the Kubernetes pod network for Ceph client traffic.</p> <p>Consider the example below which selects a hypothetical Kubernetes-wide Multus network in the default namespace for Ceph's public network and selects a Ceph-specific network in the <code>rook-ceph</code> namespace for Ceph's cluster network. The commented-out portion shows an example of how address ranges could be manually specified for the networks if needed.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-3-1> 1</a></span>
<span class=normal><a href=#__codelineno-3-2> 2</a></span>
<span class=normal><a href=#__codelineno-3-3> 3</a></span>
<span class=normal><a href=#__codelineno-3-4> 4</a></span>
<span class=normal><a href=#__codelineno-3-5> 5</a></span>
<span class=normal><a href=#__codelineno-3-6> 6</a></span>
<span class=normal><a href=#__codelineno-3-7> 7</a></span>
<span class=normal><a href=#__codelineno-3-8> 8</a></span>
<span class=normal><a href=#__codelineno-3-9> 9</a></span>
<span class=normal><a href=#__codelineno-3-10>10</a></span>
<span class=normal><a href=#__codelineno-3-11>11</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1></a><span class=w>  </span><span class=nt>network</span><span class=p>:</span>
<a id=__codelineno-3-2 name=__codelineno-3-2></a><span class=w>    </span><span class=nt>provider</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">multus</span>
<a id=__codelineno-3-3 name=__codelineno-3-3></a><span class=w>    </span><span class=nt>selectors</span><span class=p>:</span>
<a id=__codelineno-3-4 name=__codelineno-3-4></a><span class=w>      </span><span class=nt>public</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">default/kube-multus-net</span>
<a id=__codelineno-3-5 name=__codelineno-3-5></a><span class=w>      </span><span class=nt>cluster</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rook-ceph/ceph-multus-net</span>
<a id=__codelineno-3-6 name=__codelineno-3-6></a><span class=w>    </span><span class=c1># addressRanges:</span>
<a id=__codelineno-3-7 name=__codelineno-3-7></a><span class=w>    </span><span class=c1>#   public:</span>
<a id=__codelineno-3-8 name=__codelineno-3-8></a><span class=w>    </span><span class=c1>#     - &quot;192.168.100.0/24&quot;</span>
<a id=__codelineno-3-9 name=__codelineno-3-9></a><span class=w>    </span><span class=c1>#     - &quot;192.168.101.0/24&quot;</span>
<a id=__codelineno-3-10 name=__codelineno-3-10></a><span class=w>    </span><span class=c1>#   cluster:</span>
<a id=__codelineno-3-11 name=__codelineno-3-11></a><span class=w>    </span><span class=c1>#     - &quot;192.168.200.0/24&quot;</span>
</code></pre></div></td></tr></table></div> <h3 id=validating-multus-configuration>Validating Multus configuration<a class=headerlink href=#validating-multus-configuration title="Permanent link">&para;</a></h3> <p>We <strong>highly</strong> recommend validating your Multus configuration before you install a CephCluster. A tool exists to facilitate validating the Multus configuration. After installing the Rook operator and before installing any Custom Resources, run the tool from the operator pod.</p> <p>The tool's CLI is designed to be as helpful as possible. Get help text for the multus validation tool like so:</p> <ol> <li> <p>Exec into the Rook operator pod</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-4-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1></a><span class=go>kubectl --namespace rook-ceph exec -it deploy/rook-ceph-operator -- bash</span>
</code></pre></div></td></tr></table></div> </li> <li> <p>Output and read the tool's help text</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-5-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1></a><span class=go>rook multus validation run --help</span>
</code></pre></div></td></tr></table></div> </li> <li> <p>Use the validation tool config file for advanced configuration.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-6-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1></a><span class=go>rook multus validation config --help</span>
</code></pre></div></td></tr></table></div> <p>Generate a sample config, that includes commented help text, using one of the available templates.</p> </li> <li> <p>Run the tool after configuring. If the tool fails, it will suggest what things may be preventing Multus networks from working properly, and it will request the logs and outputs that will help debug issues.</p> </li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The tool requires host network access. Many Kubernetes distros have security limitations. Use the tool's <code>serviceAccountName</code> config option or <code>--service-account-name</code> CLI flag to instruct the tool to run using a particular ServiceAccount in order to allow necessary permissions. An example compatible with openshift is provided in the Rook repository at <a href=https://github.com/rook/rook/blob/HEAD/deploy/examples/multus-validation-test-openshift.yaml>deploy/examples/multus-validation-test-openshift.yaml</a></p> </div> <h3 id=known-limitations-with-multus>Known limitations with Multus<a class=headerlink href=#known-limitations-with-multus title="Permanent link">&para;</a></h3> <p>Daemons leveraging Kubernetes service IPs (Monitors, Managers, Rados Gateways) are not listening on the NAD specified in the <code>selectors</code>. Instead the daemon listens on the default network, however the NAD is attached to the container, allowing the daemon to communicate with the rest of the cluster. There is work in progress to fix this issue in the <a href=https://github.com/k8snetworkplumbingwg/multus-service>multus-service</a> repository. At the time of writing it's unclear when this will be supported.</p> <h3 id=multus-examples>Multus examples<a class=headerlink href=#multus-examples title="Permanent link">&para;</a></h3> <h4 id=macvlan-whereabouts-node-dynamic-ips>Macvlan, Whereabouts, Node Dynamic IPs<a class=headerlink href=#macvlan-whereabouts-node-dynamic-ips title="Permanent link">&para;</a></h4> <p>The network plan for this cluster will be as follows:</p> <ul> <li>The underlying network supporting the public network will be attached to hosts at <code>eth0</code></li> <li>Macvlan will be used to attach pods to <code>eth0</code></li> <li>Pods and nodes will have separate IP ranges</li> <li>Nodes will get the IP range 192.168.252.0/22 (this allows up to 1024 hosts)</li> <li>Nodes will have IPs assigned dynamically via DHCP (DHCP configuration is outside the scope of this document)</li> <li>Pods will get the IP range 192.168.0.0/18 (this allows up to 16,384 Rook/Ceph pods)</li> <li>Whereabouts will be used to assign IPs to the Multus public network</li> </ul> <p>Node configuration must allow nodes to route to pods on the Multus public network.</p> <p>Because pods will be connecting via Macvlan, and because Macvlan does not allow hosts and pods to route between each other, the host must also be connected via Macvlan.</p> <p>Because the host IP range is different from the pod IP range, a route must be added to include the pod range.</p> <p>Such a configuration should be equivalent to the following:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-7-1>1</a></span>
<span class=normal><a href=#__codelineno-7-2>2</a></span>
<span class=normal><a href=#__codelineno-7-3>3</a></span>
<span class=normal><a href=#__codelineno-7-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1></a><span class=go>ip link add public-shim link eth0 type macvlan mode bridge</span>
<a id=__codelineno-7-2 name=__codelineno-7-2></a><span class=go>ip link set public-shim up</span>
<a id=__codelineno-7-3 name=__codelineno-7-3></a><span class=go>dhclient public-shim # gets IP in range 192.168.252.0/22</span>
<a id=__codelineno-7-4 name=__codelineno-7-4></a><span class=go>ip route add 192.168.0.0/18 dev public-shim</span>
</code></pre></div></td></tr></table></div> <p>The NetworkAttachmentDefinition for the public network would look like the following, using Whereabouts' <code>exclude</code> option to simplify the <code>range</code> request.</p> <p>The Whereabouts <code>routes[].dst</code> option (<a href=https://gist.github.com/dougbtv/b41c759e9b9aee6a3fe210f09da8e835>is not well documented</a>) but allows adding routing pods to hosts via the Multus public network.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-8-1> 1</a></span>
<span class=normal><a href=#__codelineno-8-2> 2</a></span>
<span class=normal><a href=#__codelineno-8-3> 3</a></span>
<span class=normal><a href=#__codelineno-8-4> 4</a></span>
<span class=normal><a href=#__codelineno-8-5> 5</a></span>
<span class=normal><a href=#__codelineno-8-6> 6</a></span>
<span class=normal><a href=#__codelineno-8-7> 7</a></span>
<span class=normal><a href=#__codelineno-8-8> 8</a></span>
<span class=normal><a href=#__codelineno-8-9> 9</a></span>
<span class=normal><a href=#__codelineno-8-10>10</a></span>
<span class=normal><a href=#__codelineno-8-11>11</a></span>
<span class=normal><a href=#__codelineno-8-12>12</a></span>
<span class=normal><a href=#__codelineno-8-13>13</a></span>
<span class=normal><a href=#__codelineno-8-14>14</a></span>
<span class=normal><a href=#__codelineno-8-15>15</a></span>
<span class=normal><a href=#__codelineno-8-16>16</a></span>
<span class=normal><a href=#__codelineno-8-17>17</a></span>
<span class=normal><a href=#__codelineno-8-18>18</a></span>
<span class=normal><a href=#__codelineno-8-19>19</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=s>&quot;k8s.cni.cncf.io/v1&quot;</span>
<a id=__codelineno-8-2 name=__codelineno-8-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">NetworkAttachmentDefinition</span>
<a id=__codelineno-8-3 name=__codelineno-8-3></a><span class=nt>metadata</span><span class=p>:</span>
<a id=__codelineno-8-4 name=__codelineno-8-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">public-net</span>
<a id=__codelineno-8-5 name=__codelineno-8-5></a><span class=w>  </span><span class=c1># namespace: rook-ceph # (optional) operator namespace</span>
<a id=__codelineno-8-6 name=__codelineno-8-6></a><span class=nt>spec</span><span class=p>:</span>
<a id=__codelineno-8-7 name=__codelineno-8-7></a><span class=w>  </span><span class=nt>config</span><span class=p>:</span><span class=w> </span><span class=s>&#39;{</span>
<a id=__codelineno-8-8 name=__codelineno-8-8></a><span class=w>      </span><span class=s>&quot;cniVersion&quot;:</span><span class=nv> </span><span class=s>&quot;0.3.1&quot;,</span>
<a id=__codelineno-8-9 name=__codelineno-8-9></a><span class=w>      </span><span class=s>&quot;type&quot;:</span><span class=nv> </span><span class=s>&quot;macvlan&quot;,</span>
<a id=__codelineno-8-10 name=__codelineno-8-10></a><span class=w>      </span><span class=s>&quot;master&quot;:</span><span class=nv> </span><span class=s>&quot;eth0&quot;,</span>
<a id=__codelineno-8-11 name=__codelineno-8-11></a><span class=w>      </span><span class=s>&quot;mode&quot;:</span><span class=nv> </span><span class=s>&quot;bridge&quot;,</span>
<a id=__codelineno-8-12 name=__codelineno-8-12></a><span class=w>      </span><span class=s>&quot;ipam&quot;:</span><span class=nv> </span><span class=s>{</span>
<a id=__codelineno-8-13 name=__codelineno-8-13></a><span class=w>        </span><span class=s>&quot;type&quot;:</span><span class=nv> </span><span class=s>&quot;whereabouts&quot;,</span>
<a id=__codelineno-8-14 name=__codelineno-8-14></a><span class=w>        </span><span class=s>&quot;range&quot;:</span><span class=nv> </span><span class=s>&quot;1192.168.0.0/18&quot;,</span>
<a id=__codelineno-8-15 name=__codelineno-8-15></a><span class=w>        </span><span class=s>&quot;routes&quot;:</span><span class=nv> </span><span class=s>[</span>
<a id=__codelineno-8-16 name=__codelineno-8-16></a><span class=w>          </span><span class=s>{&quot;dst&quot;:</span><span class=nv> </span><span class=s>&quot;192.168.252.0/22&quot;}</span>
<a id=__codelineno-8-17 name=__codelineno-8-17></a><span class=w>        </span><span class=s>]</span>
<a id=__codelineno-8-18 name=__codelineno-8-18></a><span class=w>      </span><span class=s>}</span>
<a id=__codelineno-8-19 name=__codelineno-8-19></a><span class=w>    </span><span class=s>}&#39;</span>
</code></pre></div></td></tr></table></div> <h4 id=macvlan-whereabouts-node-static-ips>Macvlan, Whereabouts, Node Static IPs<a class=headerlink href=#macvlan-whereabouts-node-static-ips title="Permanent link">&para;</a></h4> <p>The network plan for this cluster will be as follows:</p> <ul> <li>The underlying network supporting the public network will be attached to hosts at <code>eth0</code></li> <li>Macvlan will be used to attach pods to <code>eth0</code></li> <li>Pods and nodes will share the IP range 192.168.0.0/16</li> <li>Nodes will get the IP range 192.168.252.0/22 (this allows up to 1024 hosts)</li> <li>Pods will get the remainder of the ranges (192.168.0.1 to 192.168.251.255)</li> <li>Whereabouts will be used to assign IPs to the Multus public network</li> <li>Nodes will have IPs assigned statically via PXE configs (PXE configuration and static IP management is outside the scope of this document)</li> </ul> <p>PXE configuration for the nodes must apply a configuration to nodes to allow nodes to route to pods on the Multus public network.</p> <p>Because pods will be connecting via Macvlan, and because Macvlan does not allow hosts and pods to route between each other, the host must also be connected via Macvlan.</p> <p>Because the host IP range is a subset of the whole range, a route must be added to include the whole range.</p> <p>Such a configuration should be equivalent to the following:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-9-1>1</a></span>
<span class=normal><a href=#__codelineno-9-2>2</a></span>
<span class=normal><a href=#__codelineno-9-3>3</a></span>
<span class=normal><a href=#__codelineno-9-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1></a><span class=go>ip link add public-shim link eth0 type macvlan mode bridge</span>
<a id=__codelineno-9-2 name=__codelineno-9-2></a><span class=go>ip addr add 192.168.252.${STATIC_IP}/22 dev public-shim</span>
<a id=__codelineno-9-3 name=__codelineno-9-3></a><span class=go>ip link set public-shim up</span>
<a id=__codelineno-9-4 name=__codelineno-9-4></a><span class=go>ip route add 192.168.0.0/16 dev public-shim</span>
</code></pre></div></td></tr></table></div> <p>The NetworkAttachmentDefinition for the public network would look like the following, using Whereabouts' <code>exclude</code> option to simplify the <code>range</code> request. The Whereabouts <code>routes[].dst</code> option ensures pods route to hosts via the Multus public network.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-10-1> 1</a></span>
<span class=normal><a href=#__codelineno-10-2> 2</a></span>
<span class=normal><a href=#__codelineno-10-3> 3</a></span>
<span class=normal><a href=#__codelineno-10-4> 4</a></span>
<span class=normal><a href=#__codelineno-10-5> 5</a></span>
<span class=normal><a href=#__codelineno-10-6> 6</a></span>
<span class=normal><a href=#__codelineno-10-7> 7</a></span>
<span class=normal><a href=#__codelineno-10-8> 8</a></span>
<span class=normal><a href=#__codelineno-10-9> 9</a></span>
<span class=normal><a href=#__codelineno-10-10>10</a></span>
<span class=normal><a href=#__codelineno-10-11>11</a></span>
<span class=normal><a href=#__codelineno-10-12>12</a></span>
<span class=normal><a href=#__codelineno-10-13>13</a></span>
<span class=normal><a href=#__codelineno-10-14>14</a></span>
<span class=normal><a href=#__codelineno-10-15>15</a></span>
<span class=normal><a href=#__codelineno-10-16>16</a></span>
<span class=normal><a href=#__codelineno-10-17>17</a></span>
<span class=normal><a href=#__codelineno-10-18>18</a></span>
<span class=normal><a href=#__codelineno-10-19>19</a></span>
<span class=normal><a href=#__codelineno-10-20>20</a></span>
<span class=normal><a href=#__codelineno-10-21>21</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=s>&quot;k8s.cni.cncf.io/v1&quot;</span>
<a id=__codelineno-10-2 name=__codelineno-10-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">NetworkAttachmentDefinition</span>
<a id=__codelineno-10-3 name=__codelineno-10-3></a><span class=nt>metadata</span><span class=p>:</span>
<a id=__codelineno-10-4 name=__codelineno-10-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">public-net</span>
<a id=__codelineno-10-5 name=__codelineno-10-5></a><span class=nt>spec</span><span class=p>:</span>
<a id=__codelineno-10-6 name=__codelineno-10-6></a><span class=w>  </span><span class=nt>config</span><span class=p>:</span><span class=w> </span><span class=s>&#39;{</span>
<a id=__codelineno-10-7 name=__codelineno-10-7></a><span class=w>      </span><span class=s>&quot;cniVersion&quot;:</span><span class=nv> </span><span class=s>&quot;0.3.1&quot;,</span>
<a id=__codelineno-10-8 name=__codelineno-10-8></a><span class=w>      </span><span class=s>&quot;type&quot;:</span><span class=nv> </span><span class=s>&quot;macvlan&quot;,</span>
<a id=__codelineno-10-9 name=__codelineno-10-9></a><span class=w>      </span><span class=s>&quot;master&quot;:</span><span class=nv> </span><span class=s>&quot;eth0&quot;,</span>
<a id=__codelineno-10-10 name=__codelineno-10-10></a><span class=w>      </span><span class=s>&quot;mode&quot;:</span><span class=nv> </span><span class=s>&quot;bridge&quot;,</span>
<a id=__codelineno-10-11 name=__codelineno-10-11></a><span class=w>      </span><span class=s>&quot;ipam&quot;:</span><span class=nv> </span><span class=s>{</span>
<a id=__codelineno-10-12 name=__codelineno-10-12></a><span class=w>        </span><span class=s>&quot;type&quot;:</span><span class=nv> </span><span class=s>&quot;whereabouts&quot;,</span>
<a id=__codelineno-10-13 name=__codelineno-10-13></a><span class=w>        </span><span class=s>&quot;range&quot;:</span><span class=nv> </span><span class=s>&quot;192.168.0.0/16&quot;,</span>
<a id=__codelineno-10-14 name=__codelineno-10-14></a><span class=w>        </span><span class=s>&quot;exclude&quot;:</span><span class=nv> </span><span class=s>[</span>
<a id=__codelineno-10-15 name=__codelineno-10-15></a><span class=w>           </span><span class=s>&quot;192.168.252.0/22&quot;</span>
<a id=__codelineno-10-16 name=__codelineno-10-16></a><span class=w>        </span><span class=s>],</span>
<a id=__codelineno-10-17 name=__codelineno-10-17></a><span class=w>        </span><span class=s>&quot;routes&quot;:</span><span class=nv> </span><span class=s>[</span>
<a id=__codelineno-10-18 name=__codelineno-10-18></a><span class=w>          </span><span class=s>{&quot;dst&quot;:</span><span class=nv> </span><span class=s>&quot;192.168.252.0/22&quot;}</span>
<a id=__codelineno-10-19 name=__codelineno-10-19></a><span class=w>        </span><span class=s>]</span>
<a id=__codelineno-10-20 name=__codelineno-10-20></a><span class=w>      </span><span class=s>}</span>
<a id=__codelineno-10-21 name=__codelineno-10-21></a><span class=w>    </span><span class=s>}&#39;</span>
</code></pre></div></td></tr></table></div> <h4 id=macvlan-dhcp>Macvlan, DHCP<a class=headerlink href=#macvlan-dhcp title="Permanent link">&para;</a></h4> <p>The network plan for this cluster will be as follows:</p> <ul> <li>The underlying network supporting the public network will be attached to hosts at <code>eth0</code></li> <li>Macvlan will be used to attach pods to <code>eth0</code></li> <li>Pods and nodes will share the IP range 192.168.0.0/16</li> <li>DHCP will be used to ensure nodes and pods get unique IP addresses</li> </ul> <p>Node configuration must allow nodes to route to pods on the Multus public network.</p> <p>Because pods will be connecting via Macvlan, and because Macvlan does not allow hosts and pods to route between each other, the host must also be connected via Macvlan.</p> <p>Such a configuration should be equivalent to the following:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-11-1>1</a></span>
<span class=normal><a href=#__codelineno-11-2>2</a></span>
<span class=normal><a href=#__codelineno-11-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1></a><span class=go>ip link add public-shim link eth0 type macvlan mode bridge</span>
<a id=__codelineno-11-2 name=__codelineno-11-2></a><span class=go>ip link set public-shim up</span>
<a id=__codelineno-11-3 name=__codelineno-11-3></a><span class=go>dhclient public-shim # gets IP in range 192.168.0.0/16</span>
</code></pre></div></td></tr></table></div> <p>The NetworkAttachmentDefinition for the public network would look like the following.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-12-1> 1</a></span>
<span class=normal><a href=#__codelineno-12-2> 2</a></span>
<span class=normal><a href=#__codelineno-12-3> 3</a></span>
<span class=normal><a href=#__codelineno-12-4> 4</a></span>
<span class=normal><a href=#__codelineno-12-5> 5</a></span>
<span class=normal><a href=#__codelineno-12-6> 6</a></span>
<span class=normal><a href=#__codelineno-12-7> 7</a></span>
<span class=normal><a href=#__codelineno-12-8> 8</a></span>
<span class=normal><a href=#__codelineno-12-9> 9</a></span>
<span class=normal><a href=#__codelineno-12-10>10</a></span>
<span class=normal><a href=#__codelineno-12-11>11</a></span>
<span class=normal><a href=#__codelineno-12-12>12</a></span>
<span class=normal><a href=#__codelineno-12-13>13</a></span>
<span class=normal><a href=#__codelineno-12-14>14</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=s>&quot;k8s.cni.cncf.io/v1&quot;</span>
<a id=__codelineno-12-2 name=__codelineno-12-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">NetworkAttachmentDefinition</span>
<a id=__codelineno-12-3 name=__codelineno-12-3></a><span class=nt>metadata</span><span class=p>:</span>
<a id=__codelineno-12-4 name=__codelineno-12-4></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">public-net</span>
<a id=__codelineno-12-5 name=__codelineno-12-5></a><span class=nt>spec</span><span class=p>:</span>
<a id=__codelineno-12-6 name=__codelineno-12-6></a><span class=w>  </span><span class=nt>config</span><span class=p>:</span><span class=w> </span><span class=s>&#39;{</span>
<a id=__codelineno-12-7 name=__codelineno-12-7></a><span class=w>      </span><span class=s>&quot;cniVersion&quot;:</span><span class=nv> </span><span class=s>&quot;0.3.1&quot;,</span>
<a id=__codelineno-12-8 name=__codelineno-12-8></a><span class=w>      </span><span class=s>&quot;type&quot;:</span><span class=nv> </span><span class=s>&quot;macvlan&quot;,</span>
<a id=__codelineno-12-9 name=__codelineno-12-9></a><span class=w>      </span><span class=s>&quot;master&quot;:</span><span class=nv> </span><span class=s>&quot;eth0&quot;,</span>
<a id=__codelineno-12-10 name=__codelineno-12-10></a><span class=w>      </span><span class=s>&quot;mode&quot;:</span><span class=nv> </span><span class=s>&quot;bridge&quot;,</span>
<a id=__codelineno-12-11 name=__codelineno-12-11></a><span class=w>      </span><span class=s>&quot;ipam&quot;:</span><span class=nv> </span><span class=s>{</span>
<a id=__codelineno-12-12 name=__codelineno-12-12></a><span class=w>        </span><span class=s>&quot;type&quot;:</span><span class=nv> </span><span class=s>&quot;dhcp&quot;,</span>
<a id=__codelineno-12-13 name=__codelineno-12-13></a><span class=w>      </span><span class=s>}</span>
<a id=__codelineno-12-14 name=__codelineno-12-14></a><span class=w>    </span><span class=s>}&#39;</span>
</code></pre></div></td></tr></table></div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> <a href=/ class=logo> <img src=https://rook.io/images/rook-logo-small.svg alt="rook.io logo"> </a> <p> &#169; Rook Authors 2022. Documentation distributed under <a href=https://creativecommons.org/licenses/by/4.0>CC-BY-4.0</a>. </p> <p> &#169; 2022 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href=https://www.linuxfoundation.org/trademark-usage/ >Trademark Usage</a> page. </p> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://slack.rook.io/ target=_blank rel=noopener title=slack.rook.io class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1s21.16-47.06 47.06-47.06h47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06S448 171 448 196.9s-21.16 47.06-47.06 47.06h-47.06zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06S309 480 283.1 480s-47.06-21.16-47.06-47.06v-47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06s21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06z"/></svg> </a> <a href=https://twitter.com/rook_io target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg> </a> <a href=https://groups.google.com/forum/#!forum/rook-dev target=_blank rel=noopener title=groups.google.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M128 0c-17.7 0-32 14.3-32 32v192h96v-32c0-35.3 28.7-64 64-64h224V32c0-17.7-14.3-32-32-32zm128 160c-17.7 0-32 14.3-32 32v32h96c35.3 0 64 28.7 64 64v128h192c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm240 64h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16M64 256c-17.7 0-32 14.3-32 32v13l155.1 114.9c1.4 1 3.1 1.6 4.9 1.6s3.5-.6 4.9-1.6L352 301v-13c0-17.7-14.3-32-32-32zm288 84.8L216 441.6c-6.9 5.1-15.3 7.9-24 7.9s-17-2.8-24-7.9L32 340.8V480c0 17.7 14.3 32 32 32h256c17.7 0 32-14.3 32-32z"/></svg> </a> <a href=https://blog.rook.io/ target=_blank rel=noopener title=blog.rook.io class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M180.5 74.262C80.813 74.262 0 155.633 0 256s80.819 181.738 180.5 181.738S361 356.373 361 256 280.191 74.262 180.5 74.262m288.25 10.646c-49.845 0-90.245 76.619-90.245 171.095s40.406 171.1 90.251 171.1 90.251-76.619 90.251-171.1H559c0-94.503-40.4-171.095-90.248-171.095Zm139.506 17.821c-17.526 0-31.735 68.628-31.735 153.274s14.2 153.274 31.735 153.274S640 340.631 640 256c0-84.649-14.215-153.271-31.742-153.271Z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["content.tabs.link", "instant", "navigation.expand", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "tabs"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest-release", "provider": "mike"}}</script> <script src=../../../assets/javascripts/bundle.88dd0f4e.min.js></script> </body> </html>